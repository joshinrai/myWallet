import{g as J,a as _t,j as d,s as L,P as dn,c as z,p as $e,q as Ae,_ as S,r as T,b as rt,d as pt,e as Tt,k as ar,l as ut,u as re,t as sr,v as ir,f as fn,R as gn,w as oe,h as ae,x as hn,y as _e,z as cr,A as Rt,C as Te,D as lr,W as ur,E as dr}from"./index.js";import{D as fr,d as gr}from"./Close.js";import{G as hr,_ as Et,i as at,a as R,b as st,c as pr,d as vr,M as yr,B as mr,T as br,t as Cr}from"./throttle.js";import{I as wr,L as vt,A as yt,d as $r,S as Ar,a as Vt,b as _r,c as Tr,D as Er}from"./styles.js";import{u as Ee,c as xr,l as xe,L as Gt}from"./ListItemText.js";import{c as it}from"./createSvgIcon.js";import{e as pn,b as Wt,c as Dt,d as Sr,h as Se,B as Ir,L as Ie,u as jr,a as Mr,f as vn}from"./List.js";import{L as mt}from"./ListItem.js";import{D as se}from"./Dialog.js";import{u as Pr}from"./Modal.js";import{T as Br}from"./createSvgIcon2.js";import"./react-is.production.min.js";function Lr(t){return _t("MuiAlert",t)}const je=J("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Nr=it(d.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Or=it(d.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Rr=it(d.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Dr=it(d.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),kr=it(d.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Fr=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Ur=xr(),zr=t=>{const{variant:e,color:n,severity:r,classes:a}=t,o={root:["root",`color${z(n||r)}`,`${e}${z(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Tt(o,Lr,a)},Hr=L(dn,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${z(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?$e:Ae,n=t.palette.mode==="light"?Ae:$e;return S({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${je.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${je.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:S({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),Kr=L("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Vr=L("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Me=L("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Pe={success:d.jsx(Nr,{fontSize:"inherit"}),warning:d.jsx(Or,{fontSize:"inherit"}),error:d.jsx(Rr,{fontSize:"inherit"}),info:d.jsx(Dr,{fontSize:"inherit"})},yn=T.forwardRef(function(e,n){const r=Ur({props:e,name:"MuiAlert"}),{action:a,children:o,className:s,closeText:c="Close",color:i,components:l={},componentsProps:g={},icon:w,iconMapping:v=Pe,onClose:p,role:y="alert",severity:m="success",slotProps:b={},slots:f={},variant:u="standard"}=r,h=rt(r,Fr),C=S({},r,{color:i,severity:m,variant:u,colorSeverity:i||m}),$=zr(C),_={slots:S({closeButton:l.CloseButton,closeIcon:l.CloseIcon},f),slotProps:S({},g,b)},[A,I]=Ee("closeButton",{elementType:wr,externalForwardedProps:_,ownerState:C}),[j,M]=Ee("closeIcon",{elementType:kr,externalForwardedProps:_,ownerState:C});return d.jsxs(Hr,S({role:y,elevation:0,ownerState:C,className:pt($.root,s),ref:n},h,{children:[w!==!1?d.jsx(Kr,{ownerState:C,className:$.icon,children:w||v[m]||Pe[m]}):null,d.jsx(Vr,{ownerState:C,className:$.message,children:o}),a!=null?d.jsx(Me,{ownerState:C,className:$.action,children:a}):null,a==null&&p?d.jsx(Me,{ownerState:C,className:$.action,children:d.jsx(A,S({size:"small","aria-label":c,title:c,color:"inherit",onClick:p},I,{children:d.jsx(j,S({fontSize:"small"},M))}))}):null]}))});function Be(t){return t.substring(2).toLowerCase()}function Gr(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function Wr(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:a,touchEvent:o="onTouchEnd"}=t,s=T.useRef(!1),c=T.useRef(null),i=T.useRef(!1),l=T.useRef(!1);T.useEffect(()=>(setTimeout(()=>{i.current=!0},0),()=>{i.current=!1}),[]);const g=pn(e.ref,c),w=Wt(y=>{const m=l.current;l.current=!1;const b=Dt(c.current);if(!i.current||!c.current||"clientX"in y&&Gr(y,b))return;if(s.current){s.current=!1;return}let f;y.composedPath?f=y.composedPath().indexOf(c.current)>-1:f=!b.documentElement.contains(y.target)||c.current.contains(y.target),!f&&(n||!m)&&a(y)}),v=y=>m=>{l.current=!0;const b=e.props[y];b&&b(m)},p={ref:g};return o!==!1&&(p[o]=v(o)),T.useEffect(()=>{if(o!==!1){const y=Be(o),m=Dt(c.current),b=()=>{s.current=!0};return m.addEventListener(y,w),m.addEventListener("touchmove",b),()=>{m.removeEventListener(y,w),m.removeEventListener("touchmove",b)}}},[w,o]),r!==!1&&(p[r]=v(r)),T.useEffect(()=>{if(r!==!1){const y=Be(r),m=Dt(c.current);return m.addEventListener(y,w),()=>{m.removeEventListener(y,w)}}},[w,r]),d.jsx(T.Fragment,{children:T.cloneElement(e,p)})}function Jr(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:a,resumeHideDuration:o}=t,s=Sr();T.useEffect(()=>{if(!a)return;function f(u){u.defaultPrevented||(u.key==="Escape"||u.key==="Esc")&&(r==null||r(u,"escapeKeyDown"))}return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[a,r]);const c=Wt((f,u)=>{r==null||r(f,u)}),i=Wt(f=>{!r||f==null||s.start(f,()=>{c(null,"timeout")})});T.useEffect(()=>(a&&i(e),s.clear),[a,e,i,s]);const l=f=>{r==null||r(f,"clickaway")},g=s.clear,w=T.useCallback(()=>{e!=null&&i(o??e*.5)},[e,o,i]),v=f=>u=>{const h=f.onBlur;h==null||h(u),w()},p=f=>u=>{const h=f.onFocus;h==null||h(u),g()},y=f=>u=>{const h=f.onMouseEnter;h==null||h(u),g()},m=f=>u=>{const h=f.onMouseLeave;h==null||h(u),w()};return T.useEffect(()=>{if(!n&&a)return window.addEventListener("focus",w),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",w),window.removeEventListener("blur",g)}},[n,a,w,g]),{getRootProps:(f={})=>{const u=S({},Se(t),Se(f));return S({role:"presentation"},f,u,{onBlur:v(u),onFocus:p(u),onMouseEnter:y(u),onMouseLeave:m(u)})},onClickAway:l}}const Le=J("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Ne=J("MuiListItemIcon",["root","alignItemsFlexStart"]);function Yr(t){return _t("MuiMenuItem",t)}const tt=J("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),qr=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Qr=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Xr=t=>{const{disabled:e,dense:n,divider:r,disableGutters:a,selected:o,classes:s}=t,i=Tt({root:["root",n&&"dense",e&&"disabled",!a&&"gutters",r&&"divider",o&&"selected"]},Yr,s);return S({},s,i)},Zr=L(Ir,{shouldForwardProp:t=>ar(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Qr})(({theme:t,ownerState:e})=>S({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tt.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ut(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${tt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ut(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${tt.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ut(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ut(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${tt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${tt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Le.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Le.inset}`]:{marginLeft:52},[`& .${xe.root}`]:{marginTop:0,marginBottom:0},[`& .${xe.inset}`]:{paddingLeft:36},[`& .${Ne.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&S({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Ne.root} svg`]:{fontSize:"1.25rem"}}))),to=T.forwardRef(function(e,n){const r=re({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:o="li",dense:s=!1,divider:c=!1,disableGutters:i=!1,focusVisibleClassName:l,role:g="menuitem",tabIndex:w,className:v}=r,p=rt(r,qr),y=T.useContext(Ie),m=T.useMemo(()=>({dense:s||y.dense||!1,disableGutters:i}),[y.dense,s,i]),b=T.useRef(null);jr(()=>{a&&b.current&&b.current.focus()},[a]);const f=S({},r,{dense:m.dense,divider:c,disableGutters:i}),u=Xr(r),h=pn(b,n);let C;return r.disabled||(C=w!==void 0?w:-1),d.jsx(Ie.Provider,{value:m,children:d.jsx(Zr,S({ref:h,role:g,tabIndex:C,component:o,focusVisibleClassName:pt(u.focusVisible,l),className:pt(u.root,v)},p,{ownerState:f,classes:u}))})});function eo(t){return _t("MuiSnackbarContent",t)}J("MuiSnackbarContent",["root","message","action"]);const no=["action","className","message","role"],ro=t=>{const{classes:e}=t;return Tt({root:["root"],action:["action"],message:["message"]},eo,e)},oo=L(dn,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=sr(t.palette.background.default,e);return S({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),ao=L("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),so=L("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),io=T.forwardRef(function(e,n){const r=re({props:e,name:"MuiSnackbarContent"}),{action:a,className:o,message:s,role:c="alert"}=r,i=rt(r,no),l=r,g=ro(l);return d.jsxs(oo,S({role:c,square:!0,elevation:6,className:pt(g.root,o),ownerState:l,ref:n},i,{children:[d.jsx(ao,{className:g.message,ownerState:l,children:s}),a?d.jsx(so,{className:g.action,ownerState:l,children:a}):null]}))});function co(t){return _t("MuiSnackbar",t)}J("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const lo=["onEnter","onExited"],uo=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],fo=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${z(n.vertical)}${z(n.horizontal)}`]};return Tt(r,co,e)},Oe=L("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${z(n.anchorOrigin.vertical)}${z(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return S({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:S({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),mn=T.forwardRef(function(e,n){const r=re({props:e,name:"MuiSnackbar"}),a=Mr(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:c,horizontal:i}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:g,className:w,ClickAwayListenerProps:v,ContentProps:p,disableWindowBlurListener:y=!1,message:m,open:b,TransitionComponent:f=hr,transitionDuration:u=o,TransitionProps:{onEnter:h,onExited:C}={}}=r,$=rt(r.TransitionProps,lo),_=rt(r,uo),A=S({},r,{anchorOrigin:{vertical:c,horizontal:i},autoHideDuration:l,disableWindowBlurListener:y,TransitionComponent:f,transitionDuration:u}),I=fo(A),{getRootProps:j,onClickAway:M}=Jr(S({},A)),[O,D]=T.useState(!0),B=Pr({elementType:Oe,getSlotProps:j,externalForwardedProps:_,ownerState:A,additionalProps:{ref:n},className:[I.root,w]}),nr=Ot=>{D(!0),C&&C(Ot)},rr=(Ot,or)=>{D(!1),h&&h(Ot,or)};return!b&&O?null:d.jsx(Wr,S({onClickAway:M},v,{children:d.jsx(Oe,S({},B,{children:d.jsx(f,S({appear:!0,in:b,timeout:u,direction:c==="top"?"down":"up",onEnter:rr,onExited:nr},$,{children:g||d.jsx(io,S({message:m,action:s},p))}))}))}))});function go(){this.__data__=[],this.size=0}var ho=go;function po(t,e){return t===e||t!==t&&e!==e}var bn=po,vo=bn;function yo(t,e){for(var n=t.length;n--;)if(vo(t[n][0],e))return n;return-1}var xt=yo,mo=xt,bo=Array.prototype,Co=bo.splice;function wo(t){var e=this.__data__,n=mo(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Co.call(e,n,1),--this.size,!0}var $o=wo,Ao=xt;function _o(t){var e=this.__data__,n=Ao(e,t);return n<0?void 0:e[n][1]}var To=_o,Eo=xt;function xo(t){return Eo(this.__data__,t)>-1}var So=xo,Io=xt;function jo(t,e){var n=this.__data__,r=Io(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Mo=jo,Po=ho,Bo=$o,Lo=To,No=So,Oo=Mo;function Y(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Y.prototype.clear=Po;Y.prototype.delete=Bo;Y.prototype.get=Lo;Y.prototype.has=No;Y.prototype.set=Oo;var St=Y,Ro=St;function Do(){this.__data__=new Ro,this.size=0}var ko=Do;function Fo(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Uo=Fo;function zo(t){return this.__data__.get(t)}var Ho=zo;function Ko(t){return this.__data__.has(t)}var Vo=Ko,Go=Et,Wo=at,Jo="[object AsyncFunction]",Yo="[object Function]",qo="[object GeneratorFunction]",Qo="[object Proxy]";function Xo(t){if(!Wo(t))return!1;var e=Go(t);return e==Yo||e==qo||e==Jo||e==Qo}var Cn=Xo,Zo=R,ta=Zo["__core-js_shared__"],ea=ta,kt=ea,Re=function(){var t=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function na(t){return!!Re&&Re in t}var ra=na,oa=Function.prototype,aa=oa.toString;function sa(t){if(t!=null){try{return aa.call(t)}catch{}try{return t+""}catch{}}return""}var wn=sa,ia=Cn,ca=ra,la=at,ua=wn,da=/[\\^$.*+?()[\]{}|]/g,fa=/^\[object .+?Constructor\]$/,ga=Function.prototype,ha=Object.prototype,pa=ga.toString,va=ha.hasOwnProperty,ya=RegExp("^"+pa.call(va).replace(da,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ma(t){if(!la(t)||ca(t))return!1;var e=ia(t)?ya:fa;return e.test(ua(t))}var ba=ma;function Ca(t,e){return t==null?void 0:t[e]}var wa=Ca,$a=ba,Aa=wa;function _a(t,e){var n=Aa(t,e);return $a(n)?n:void 0}var H=_a,Ta=H,Ea=R,xa=Ta(Ea,"Map"),ie=xa,Sa=H,Ia=Sa(Object,"create"),It=Ia,De=It;function ja(){this.__data__=De?De(null):{},this.size=0}var Ma=ja;function Pa(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ba=Pa,La=It,Na="__lodash_hash_undefined__",Oa=Object.prototype,Ra=Oa.hasOwnProperty;function Da(t){var e=this.__data__;if(La){var n=e[t];return n===Na?void 0:n}return Ra.call(e,t)?e[t]:void 0}var ka=Da,Fa=It,Ua=Object.prototype,za=Ua.hasOwnProperty;function Ha(t){var e=this.__data__;return Fa?e[t]!==void 0:za.call(e,t)}var Ka=Ha,Va=It,Ga="__lodash_hash_undefined__";function Wa(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Va&&e===void 0?Ga:e,this}var Ja=Wa,Ya=Ma,qa=Ba,Qa=ka,Xa=Ka,Za=Ja;function q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}q.prototype.clear=Ya;q.prototype.delete=qa;q.prototype.get=Qa;q.prototype.has=Xa;q.prototype.set=Za;var ts=q,ke=ts,es=St,ns=ie;function rs(){this.size=0,this.__data__={hash:new ke,map:new(ns||es),string:new ke}}var os=rs;function as(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ss=as,is=ss;function cs(t,e){var n=t.__data__;return is(e)?n[typeof e=="string"?"string":"hash"]:n.map}var jt=cs,ls=jt;function us(t){var e=ls(this,t).delete(t);return this.size-=e?1:0,e}var ds=us,fs=jt;function gs(t){return fs(this,t).get(t)}var hs=gs,ps=jt;function vs(t){return ps(this,t).has(t)}var ys=vs,ms=jt;function bs(t,e){var n=ms(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Cs=bs,ws=os,$s=ds,As=hs,_s=ys,Ts=Cs;function Q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Q.prototype.clear=ws;Q.prototype.delete=$s;Q.prototype.get=As;Q.prototype.has=_s;Q.prototype.set=Ts;var Es=Q,xs=St,Ss=ie,Is=Es,js=200;function Ms(t,e){var n=this.__data__;if(n instanceof xs){var r=n.__data__;if(!Ss||r.length<js-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Is(r)}return n.set(t,e),this.size=n.size,this}var Ps=Ms,Bs=St,Ls=ko,Ns=Uo,Os=Ho,Rs=Vo,Ds=Ps;function X(t){var e=this.__data__=new Bs(t);this.size=e.size}X.prototype.clear=Ls;X.prototype.delete=Ns;X.prototype.get=Os;X.prototype.has=Rs;X.prototype.set=Ds;var ks=X;function Fs(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Us=Fs,zs=H,Hs=function(){try{var t=zs(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ks=Hs,Fe=Ks;function Vs(t,e,n){e=="__proto__"&&Fe?Fe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var $n=Vs,Gs=$n,Ws=bn,Js=Object.prototype,Ys=Js.hasOwnProperty;function qs(t,e,n){var r=t[e];(!(Ys.call(t,e)&&Ws(r,n))||n===void 0&&!(e in t))&&Gs(t,e,n)}var An=qs,Qs=An,Xs=$n;function Zs(t,e,n,r){var a=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var c=e[o],i=r?r(n[c],t[c],c,n,t):void 0;i===void 0&&(i=t[c]),a?Xs(n,c,i):Qs(n,c,i)}return n}var Mt=Zs;function ti(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ei=ti,ni=Et,ri=st,oi="[object Arguments]";function ai(t){return ri(t)&&ni(t)==oi}var si=ai,Ue=si,ii=st,_n=Object.prototype,ci=_n.hasOwnProperty,li=_n.propertyIsEnumerable,ui=Ue(function(){return arguments}())?Ue:function(t){return ii(t)&&ci.call(t,"callee")&&!li.call(t,"callee")},di=ui,fi=Array.isArray,ce=fi,bt={exports:{}};function gi(){return!1}var hi=gi;bt.exports;(function(t,e){var n=R,r=hi,a=e&&!e.nodeType&&e,o=a&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===a,c=s?n.Buffer:void 0,i=c?c.isBuffer:void 0,l=i||r;t.exports=l})(bt,bt.exports);var Tn=bt.exports,pi=9007199254740991,vi=/^(?:0|[1-9]\d*)$/;function yi(t,e){var n=typeof t;return e=e??pi,!!e&&(n=="number"||n!="symbol"&&vi.test(t))&&t>-1&&t%1==0&&t<e}var mi=yi,bi=9007199254740991;function Ci(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bi}var En=Ci,wi=Et,$i=En,Ai=st,_i="[object Arguments]",Ti="[object Array]",Ei="[object Boolean]",xi="[object Date]",Si="[object Error]",Ii="[object Function]",ji="[object Map]",Mi="[object Number]",Pi="[object Object]",Bi="[object RegExp]",Li="[object Set]",Ni="[object String]",Oi="[object WeakMap]",Ri="[object ArrayBuffer]",Di="[object DataView]",ki="[object Float32Array]",Fi="[object Float64Array]",Ui="[object Int8Array]",zi="[object Int16Array]",Hi="[object Int32Array]",Ki="[object Uint8Array]",Vi="[object Uint8ClampedArray]",Gi="[object Uint16Array]",Wi="[object Uint32Array]",x={};x[ki]=x[Fi]=x[Ui]=x[zi]=x[Hi]=x[Ki]=x[Vi]=x[Gi]=x[Wi]=!0;x[_i]=x[Ti]=x[Ri]=x[Ei]=x[Di]=x[xi]=x[Si]=x[Ii]=x[ji]=x[Mi]=x[Pi]=x[Bi]=x[Li]=x[Ni]=x[Oi]=!1;function Ji(t){return Ai(t)&&$i(t.length)&&!!x[wi(t)]}var Yi=Ji;function qi(t){return function(e){return t(e)}}var le=qi,Ct={exports:{}};Ct.exports;(function(t,e){var n=pr,r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===r,s=o&&n.process,c=function(){try{var i=a&&a.require&&a.require("util").types;return i||s&&s.binding&&s.binding("util")}catch{}}();t.exports=c})(Ct,Ct.exports);var ue=Ct.exports,Qi=Yi,Xi=le,ze=ue,He=ze&&ze.isTypedArray,Zi=He?Xi(He):Qi,tc=Zi,ec=ei,nc=di,rc=ce,oc=Tn,ac=mi,sc=tc,ic=Object.prototype,cc=ic.hasOwnProperty;function lc(t,e){var n=rc(t),r=!n&&nc(t),a=!n&&!r&&oc(t),o=!n&&!r&&!a&&sc(t),s=n||r||a||o,c=s?ec(t.length,String):[],i=c.length;for(var l in t)(e||cc.call(t,l))&&!(s&&(l=="length"||a&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ac(l,i)))&&c.push(l);return c}var xn=lc,uc=Object.prototype;function dc(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||uc;return t===n}var de=dc;function fc(t,e){return function(n){return t(e(n))}}var Sn=fc,gc=Sn,hc=gc(Object.keys,Object),pc=hc,vc=de,yc=pc,mc=Object.prototype,bc=mc.hasOwnProperty;function Cc(t){if(!vc(t))return yc(t);var e=[];for(var n in Object(t))bc.call(t,n)&&n!="constructor"&&e.push(n);return e}var wc=Cc,$c=Cn,Ac=En;function _c(t){return t!=null&&Ac(t.length)&&!$c(t)}var In=_c,Tc=xn,Ec=wc,xc=In;function Sc(t){return xc(t)?Tc(t):Ec(t)}var fe=Sc,Ic=Mt,jc=fe;function Mc(t,e){return t&&Ic(e,jc(e),t)}var Pc=Mc;function Bc(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Lc=Bc,Nc=at,Oc=de,Rc=Lc,Dc=Object.prototype,kc=Dc.hasOwnProperty;function Fc(t){if(!Nc(t))return Rc(t);var e=Oc(t),n=[];for(var r in t)r=="constructor"&&(e||!kc.call(t,r))||n.push(r);return n}var Uc=Fc,zc=xn,Hc=Uc,Kc=In;function Vc(t){return Kc(t)?zc(t,!0):Hc(t)}var ge=Vc,Gc=Mt,Wc=ge;function Jc(t,e){return t&&Gc(e,Wc(e),t)}var Yc=Jc,wt={exports:{}};wt.exports;(function(t,e){var n=R,r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===r,s=o?n.Buffer:void 0,c=s?s.allocUnsafe:void 0;function i(l,g){if(g)return l.slice();var w=l.length,v=c?c(w):new l.constructor(w);return l.copy(v),v}t.exports=i})(wt,wt.exports);var qc=wt.exports;function Qc(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Xc=Qc;function Zc(t,e){for(var n=-1,r=t==null?0:t.length,a=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[a++]=s)}return o}var tl=Zc;function el(){return[]}var jn=el,nl=tl,rl=jn,ol=Object.prototype,al=ol.propertyIsEnumerable,Ke=Object.getOwnPropertySymbols,sl=Ke?function(t){return t==null?[]:(t=Object(t),nl(Ke(t),function(e){return al.call(t,e)}))}:rl,he=sl,il=Mt,cl=he;function ll(t,e){return il(t,cl(t),e)}var ul=ll;function dl(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var Mn=dl,fl=Sn,gl=fl(Object.getPrototypeOf,Object),Pn=gl,hl=Mn,pl=Pn,vl=he,yl=jn,ml=Object.getOwnPropertySymbols,bl=ml?function(t){for(var e=[];t;)hl(e,vl(t)),t=pl(t);return e}:yl,Bn=bl,Cl=Mt,wl=Bn;function $l(t,e){return Cl(t,wl(t),e)}var Al=$l,_l=Mn,Tl=ce;function El(t,e,n){var r=e(t);return Tl(t)?r:_l(r,n(t))}var Ln=El,xl=Ln,Sl=he,Il=fe;function jl(t){return xl(t,Il,Sl)}var Ml=jl,Pl=Ln,Bl=Bn,Ll=ge;function Nl(t){return Pl(t,Ll,Bl)}var Ol=Nl,Rl=H,Dl=R,kl=Rl(Dl,"DataView"),Fl=kl,Ul=H,zl=R,Hl=Ul(zl,"Promise"),Kl=Hl,Vl=H,Gl=R,Wl=Vl(Gl,"Set"),Jl=Wl,Yl=H,ql=R,Ql=Yl(ql,"WeakMap"),Xl=Ql,Jt=Fl,Yt=ie,qt=Kl,Qt=Jl,Xt=Xl,Nn=Et,Z=wn,Ve="[object Map]",Zl="[object Object]",Ge="[object Promise]",We="[object Set]",Je="[object WeakMap]",Ye="[object DataView]",tu=Z(Jt),eu=Z(Yt),nu=Z(qt),ru=Z(Qt),ou=Z(Xt),U=Nn;(Jt&&U(new Jt(new ArrayBuffer(1)))!=Ye||Yt&&U(new Yt)!=Ve||qt&&U(qt.resolve())!=Ge||Qt&&U(new Qt)!=We||Xt&&U(new Xt)!=Je)&&(U=function(t){var e=Nn(t),n=e==Zl?t.constructor:void 0,r=n?Z(n):"";if(r)switch(r){case tu:return Ye;case eu:return Ve;case nu:return Ge;case ru:return We;case ou:return Je}return e});var pe=U,au=Object.prototype,su=au.hasOwnProperty;function iu(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&su.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var cu=iu,lu=R,uu=lu.Uint8Array,du=uu,qe=du;function fu(t){var e=new t.constructor(t.byteLength);return new qe(e).set(new qe(t)),e}var ve=fu,gu=ve;function hu(t,e){var n=e?gu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var pu=hu,vu=/\w*$/;function yu(t){var e=new t.constructor(t.source,vu.exec(t));return e.lastIndex=t.lastIndex,e}var mu=yu,Qe=vr,Xe=Qe?Qe.prototype:void 0,Ze=Xe?Xe.valueOf:void 0;function bu(t){return Ze?Object(Ze.call(t)):{}}var Cu=bu,wu=ve;function $u(t,e){var n=e?wu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Au=$u,_u=ve,Tu=pu,Eu=mu,xu=Cu,Su=Au,Iu="[object Boolean]",ju="[object Date]",Mu="[object Map]",Pu="[object Number]",Bu="[object RegExp]",Lu="[object Set]",Nu="[object String]",Ou="[object Symbol]",Ru="[object ArrayBuffer]",Du="[object DataView]",ku="[object Float32Array]",Fu="[object Float64Array]",Uu="[object Int8Array]",zu="[object Int16Array]",Hu="[object Int32Array]",Ku="[object Uint8Array]",Vu="[object Uint8ClampedArray]",Gu="[object Uint16Array]",Wu="[object Uint32Array]";function Ju(t,e,n){var r=t.constructor;switch(e){case Ru:return _u(t);case Iu:case ju:return new r(+t);case Du:return Tu(t,n);case ku:case Fu:case Uu:case zu:case Hu:case Ku:case Vu:case Gu:case Wu:return Su(t,n);case Mu:return new r;case Pu:case Nu:return new r(t);case Bu:return Eu(t);case Lu:return new r;case Ou:return xu(t)}}var Yu=Ju,qu=at,tn=Object.create,Qu=function(){function t(){}return function(e){if(!qu(e))return{};if(tn)return tn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Xu=Qu,Zu=Xu,td=Pn,ed=de;function nd(t){return typeof t.constructor=="function"&&!ed(t)?Zu(td(t)):{}}var rd=nd,od=pe,ad=st,sd="[object Map]";function id(t){return ad(t)&&od(t)==sd}var cd=id,ld=cd,ud=le,en=ue,nn=en&&en.isMap,dd=nn?ud(nn):ld,fd=dd,gd=pe,hd=st,pd="[object Set]";function vd(t){return hd(t)&&gd(t)==pd}var yd=vd,md=yd,bd=le,rn=ue,on=rn&&rn.isSet,Cd=on?bd(on):md,wd=Cd,$d=ks,Ad=Us,_d=An,Td=Pc,Ed=Yc,xd=qc,Sd=Xc,Id=ul,jd=Al,Md=Ml,Pd=Ol,Bd=pe,Ld=cu,Nd=Yu,Od=rd,Rd=ce,Dd=Tn,kd=fd,Fd=at,Ud=wd,zd=fe,Hd=ge,Kd=1,Vd=2,Gd=4,On="[object Arguments]",Wd="[object Array]",Jd="[object Boolean]",Yd="[object Date]",qd="[object Error]",Rn="[object Function]",Qd="[object GeneratorFunction]",Xd="[object Map]",Zd="[object Number]",Dn="[object Object]",tf="[object RegExp]",ef="[object Set]",nf="[object String]",rf="[object Symbol]",of="[object WeakMap]",af="[object ArrayBuffer]",sf="[object DataView]",cf="[object Float32Array]",lf="[object Float64Array]",uf="[object Int8Array]",df="[object Int16Array]",ff="[object Int32Array]",gf="[object Uint8Array]",hf="[object Uint8ClampedArray]",pf="[object Uint16Array]",vf="[object Uint32Array]",E={};E[On]=E[Wd]=E[af]=E[sf]=E[Jd]=E[Yd]=E[cf]=E[lf]=E[uf]=E[df]=E[ff]=E[Xd]=E[Zd]=E[Dn]=E[tf]=E[ef]=E[nf]=E[rf]=E[gf]=E[hf]=E[pf]=E[vf]=!0;E[qd]=E[Rn]=E[of]=!1;function ht(t,e,n,r,a,o){var s,c=e&Kd,i=e&Vd,l=e&Gd;if(n&&(s=a?n(t,r,a,o):n(t)),s!==void 0)return s;if(!Fd(t))return t;var g=Rd(t);if(g){if(s=Ld(t),!c)return Sd(t,s)}else{var w=Bd(t),v=w==Rn||w==Qd;if(Dd(t))return xd(t,c);if(w==Dn||w==On||v&&!a){if(s=i||v?{}:Od(t),!c)return i?jd(t,Ed(s,t)):Id(t,Td(s,t))}else{if(!E[w])return a?t:{};s=Nd(t,w,c)}}o||(o=new $d);var p=o.get(t);if(p)return p;o.set(t,s),Ud(t)?t.forEach(function(b){s.add(ht(b,e,n,b,t,o))}):kd(t)&&t.forEach(function(b,f){s.set(f,ht(b,e,n,f,t,o))});var y=l?i?Pd:Md:i?Hd:zd,m=g?void 0:y(t);return Ad(m||t,function(b,f){m&&(f=b,b=t[f]),_d(s,f,ht(b,e,n,f,t,o))}),s}var yf=ht,mf=yf,bf=1,Cf=4;function wf(t){return mf(t,bf|Cf)}var $f=wf;const Af=ir($f);var ct={},_f=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},kn={},P={};let ye;const Tf=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];P.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};P.getSymbolTotalCodewords=function(e){return Tf[e]};P.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};P.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ye=e};P.isKanjiModeEnabled=function(){return typeof ye<"u"};P.toSJIS=function(e){return ye(e)};var Pt={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,a){if(t.isValid(r))return r;try{return e(r)}catch{return a}}})(Pt);function Fn(){this.buffer=[],this.length=0}Fn.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ef=Fn;function lt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}lt.prototype.set=function(t,e,n,r){const a=t*this.size+e;this.data[a]=n,r&&(this.reservedBit[a]=!0)};lt.prototype.get=function(t,e){return this.data[t*this.size+e]};lt.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};lt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var xf=lt,Un={};(function(t){const e=P.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const a=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*a-2))*2,c=[o-7];for(let i=1;i<a-1;i++)c[i]=c[i-1]-s;return c.push(6),c.reverse()},t.getPositions=function(r){const a=[],o=t.getRowColCoords(r),s=o.length;for(let c=0;c<s;c++)for(let i=0;i<s;i++)c===0&&i===0||c===0&&i===s-1||c===s-1&&i===0||a.push([o[c],o[i]]);return a}})(Un);var zn={};const Sf=P.getSymbolSize,an=7;zn.getPositions=function(e){const n=Sf(e);return[[0,0],[n-an,0],[0,n-an]]};var Hn={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const o=a.size;let s=0,c=0,i=0,l=null,g=null;for(let w=0;w<o;w++){c=i=0,l=g=null;for(let v=0;v<o;v++){let p=a.get(w,v);p===l?c++:(c>=5&&(s+=e.N1+(c-5)),l=p,c=1),p=a.get(v,w),p===g?i++:(i>=5&&(s+=e.N1+(i-5)),g=p,i=1)}c>=5&&(s+=e.N1+(c-5)),i>=5&&(s+=e.N1+(i-5))}return s},t.getPenaltyN2=function(a){const o=a.size;let s=0;for(let c=0;c<o-1;c++)for(let i=0;i<o-1;i++){const l=a.get(c,i)+a.get(c,i+1)+a.get(c+1,i)+a.get(c+1,i+1);(l===4||l===0)&&s++}return s*e.N2},t.getPenaltyN3=function(a){const o=a.size;let s=0,c=0,i=0;for(let l=0;l<o;l++){c=i=0;for(let g=0;g<o;g++)c=c<<1&2047|a.get(l,g),g>=10&&(c===1488||c===93)&&s++,i=i<<1&2047|a.get(g,l),g>=10&&(i===1488||i===93)&&s++}return s*e.N3},t.getPenaltyN4=function(a){let o=0;const s=a.data.length;for(let i=0;i<s;i++)o+=a.data[i];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,a,o){switch(r){case t.Patterns.PATTERN000:return(a+o)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(a+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return a*o%2+a*o%3===0;case t.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case t.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(a,o){const s=o.size;for(let c=0;c<s;c++)for(let i=0;i<s;i++)o.isReserved(i,c)||o.xor(i,c,n(a,i,c))},t.getBestMask=function(a,o){const s=Object.keys(t.Patterns).length;let c=0,i=1/0;for(let l=0;l<s;l++){o(l),t.applyMask(l,a);const g=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(l,a),g<i&&(i=g,c=l)}return c}})(Hn);var Bt={};const k=Pt,dt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ft=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Bt.getBlocksCount=function(e,n){switch(n){case k.L:return dt[(e-1)*4+0];case k.M:return dt[(e-1)*4+1];case k.Q:return dt[(e-1)*4+2];case k.H:return dt[(e-1)*4+3];default:return}};Bt.getTotalCodewordsCount=function(e,n){switch(n){case k.L:return ft[(e-1)*4+0];case k.M:return ft[(e-1)*4+1];case k.Q:return ft[(e-1)*4+2];case k.H:return ft[(e-1)*4+3];default:return}};var Kn={},Lt={};const nt=new Uint8Array(512),$t=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)nt[n]=e,$t[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)nt[n]=nt[n-255]})();Lt.log=function(e){if(e<1)throw new Error("log("+e+")");return $t[e]};Lt.exp=function(e){return nt[e]};Lt.mul=function(e,n){return e===0||n===0?0:nt[$t[e]+$t[n]]};(function(t){const e=Lt;t.mul=function(r,a){const o=new Uint8Array(r.length+a.length-1);for(let s=0;s<r.length;s++)for(let c=0;c<a.length;c++)o[s+c]^=e.mul(r[s],a[c]);return o},t.mod=function(r,a){let o=new Uint8Array(r);for(;o.length-a.length>=0;){const s=o[0];for(let i=0;i<a.length;i++)o[i]^=e.mul(a[i],s);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},t.generateECPolynomial=function(r){let a=new Uint8Array([1]);for(let o=0;o<r;o++)a=t.mul(a,new Uint8Array([1,e.exp(o)]));return a}})(Kn);const Vn=Kn;function me(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}me.prototype.initialize=function(e){this.degree=e,this.genPoly=Vn.generateECPolynomial(this.degree)};me.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Vn.mod(n,this.genPoly),a=this.degree-r.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(r,a),o}return r};var If=me,Gn={},F={},be={};be.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var N={};const Wn="[0-9]+",jf="[A-Z $%*+\\-./:]+";let ot="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ot=ot.replace(/u/g,"\\u");const Mf="(?:(?![A-Z0-9 $%*+\\-./:]|"+ot+`)(?:.|[\r
]))+`;N.KANJI=new RegExp(ot,"g");N.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");N.BYTE=new RegExp(Mf,"g");N.NUMERIC=new RegExp(Wn,"g");N.ALPHANUMERIC=new RegExp(jf,"g");const Pf=new RegExp("^"+ot+"$"),Bf=new RegExp("^"+Wn+"$"),Lf=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");N.testKanji=function(e){return Pf.test(e)};N.testNumeric=function(e){return Bf.test(e)};N.testAlphanumeric=function(e){return Lf.test(e)};(function(t){const e=be,n=N;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(F);(function(t){const e=P,n=Bt,r=Pt,a=F,o=be,s=7973,c=e.getBCHDigit(s);function i(v,p,y){for(let m=1;m<=40;m++)if(p<=t.getCapacity(m,y,v))return m}function l(v,p){return a.getCharCountIndicator(v,p)+4}function g(v,p){let y=0;return v.forEach(function(m){const b=l(m.mode,p);y+=b+m.getBitsLength()}),y}function w(v,p){for(let y=1;y<=40;y++)if(g(v,y)<=t.getCapacity(y,p,a.MIXED))return y}t.from=function(p,y){return o.isValid(p)?parseInt(p,10):y},t.getCapacity=function(p,y,m){if(!o.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=a.BYTE);const b=e.getSymbolTotalCodewords(p),f=n.getTotalCodewordsCount(p,y),u=(b-f)*8;if(m===a.MIXED)return u;const h=u-l(m,p);switch(m){case a.NUMERIC:return Math.floor(h/10*3);case a.ALPHANUMERIC:return Math.floor(h/11*2);case a.KANJI:return Math.floor(h/13);case a.BYTE:default:return Math.floor(h/8)}},t.getBestVersionForData=function(p,y){let m;const b=r.from(y,r.M);if(Array.isArray(p)){if(p.length>1)return w(p,b);if(p.length===0)return 1;m=p[0]}else m=p;return i(m.mode,m.getLength(),b)},t.getEncodedBits=function(p){if(!o.isValid(p)||p<7)throw new Error("Invalid QR Code version");let y=p<<12;for(;e.getBCHDigit(y)-c>=0;)y^=s<<e.getBCHDigit(y)-c;return p<<12|y}})(Gn);var Jn={};const Zt=P,Yn=1335,Nf=21522,sn=Zt.getBCHDigit(Yn);Jn.getEncodedBits=function(e,n){const r=e.bit<<3|n;let a=r<<10;for(;Zt.getBCHDigit(a)-sn>=0;)a^=Yn<<Zt.getBCHDigit(a)-sn;return(r<<10|a)^Nf};var qn={};const Of=F;function K(t){this.mode=Of.NUMERIC,this.data=t.toString()}K.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};K.prototype.getLength=function(){return this.data.length};K.prototype.getBitsLength=function(){return K.getBitsLength(this.data.length)};K.prototype.write=function(e){let n,r,a;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),a=parseInt(r,10),e.put(a,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),a=parseInt(r,10),e.put(a,o*3+1))};var Rf=K;const Df=F,Ft=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function V(t){this.mode=Df.ALPHANUMERIC,this.data=t}V.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Ft.indexOf(this.data[n])*45;r+=Ft.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Ft.indexOf(this.data[n]),6)};var kf=V,Ff=function(e){for(var n=[],r=e.length,a=0;a<r;a++){var o=e.charCodeAt(a);if(o>=55296&&o<=56319&&r>a+1){var s=e.charCodeAt(a+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,a+=1)}if(o<128){n.push(o);continue}if(o<2048){n.push(o>>6|192),n.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){n.push(o>>12|224),n.push(o>>6&63|128),n.push(o&63|128);continue}if(o>=65536&&o<=1114111){n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Uf=Ff,zf=F;function G(t){this.mode=zf.BYTE,typeof t=="string"&&(t=Uf(t)),this.data=new Uint8Array(t)}G.getBitsLength=function(e){return e*8};G.prototype.getLength=function(){return this.data.length};G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)};G.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Hf=G;const Kf=F,Vf=P;function W(t){this.mode=Kf.KANJI,this.data=t}W.getBitsLength=function(e){return e*13};W.prototype.getLength=function(){return this.data.length};W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)};W.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Vf.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Gf=W,Qn={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,a){var o={},s={};s[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var i,l,g,w,v,p,y,m,b;!c.empty();){i=c.pop(),l=i.value,w=i.cost,v=n[l]||{};for(g in v)v.hasOwnProperty(g)&&(p=v[g],y=w+p,m=s[g],b=typeof s[g]>"u",(b||m>y)&&(s[g]=y,c.push(g,y),o[g]=l))}if(typeof a<"u"&&typeof s[a]>"u"){var f=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(f)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var a=[],o=r;o;)a.push(o),n[o],o=n[o];return a.reverse(),a},find_path:function(n,r,a){var o=e.single_source_shortest_paths(n,r,a);return e.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,a={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(a[o]=r[o]);return a.queue=[],a.sorter=n.sorter||r.default_sorter,a},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var a={value:n,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Qn);var Wf=Qn.exports;(function(t){const e=F,n=Rf,r=kf,a=Hf,o=Gf,s=N,c=P,i=Wf;function l(f){return unescape(encodeURIComponent(f)).length}function g(f,u,h){const C=[];let $;for(;($=f.exec(h))!==null;)C.push({data:$[0],index:$.index,mode:u,length:$[0].length});return C}function w(f){const u=g(s.NUMERIC,e.NUMERIC,f),h=g(s.ALPHANUMERIC,e.ALPHANUMERIC,f);let C,$;return c.isKanjiModeEnabled()?(C=g(s.BYTE,e.BYTE,f),$=g(s.KANJI,e.KANJI,f)):(C=g(s.BYTE_KANJI,e.BYTE,f),$=[]),u.concat(h,C,$).sort(function(A,I){return A.index-I.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function v(f,u){switch(u){case e.NUMERIC:return n.getBitsLength(f);case e.ALPHANUMERIC:return r.getBitsLength(f);case e.KANJI:return o.getBitsLength(f);case e.BYTE:return a.getBitsLength(f)}}function p(f){return f.reduce(function(u,h){const C=u.length-1>=0?u[u.length-1]:null;return C&&C.mode===h.mode?(u[u.length-1].data+=h.data,u):(u.push(h),u)},[])}function y(f){const u=[];for(let h=0;h<f.length;h++){const C=f[h];switch(C.mode){case e.NUMERIC:u.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:u.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:u.push([C,{data:C.data,mode:e.BYTE,length:l(C.data)}]);break;case e.BYTE:u.push([{data:C.data,mode:e.BYTE,length:l(C.data)}])}}return u}function m(f,u){const h={},C={start:{}};let $=["start"];for(let _=0;_<f.length;_++){const A=f[_],I=[];for(let j=0;j<A.length;j++){const M=A[j],O=""+_+j;I.push(O),h[O]={node:M,lastCount:0},C[O]={};for(let D=0;D<$.length;D++){const B=$[D];h[B]&&h[B].node.mode===M.mode?(C[B][O]=v(h[B].lastCount+M.length,M.mode)-v(h[B].lastCount,M.mode),h[B].lastCount+=M.length):(h[B]&&(h[B].lastCount=M.length),C[B][O]=v(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,u))}}$=I}for(let _=0;_<$.length;_++)C[$[_]].end=0;return{map:C,table:h}}function b(f,u){let h;const C=e.getBestModeForData(f);if(h=e.from(u,C),h!==e.BYTE&&h.bit<C.bit)throw new Error('"'+f+'" cannot be encoded with mode '+e.toString(h)+`.
 Suggested mode is: `+e.toString(C));switch(h===e.KANJI&&!c.isKanjiModeEnabled()&&(h=e.BYTE),h){case e.NUMERIC:return new n(f);case e.ALPHANUMERIC:return new r(f);case e.KANJI:return new o(f);case e.BYTE:return new a(f)}}t.fromArray=function(u){return u.reduce(function(h,C){return typeof C=="string"?h.push(b(C,null)):C.data&&h.push(b(C.data,C.mode)),h},[])},t.fromString=function(u,h){const C=w(u,c.isKanjiModeEnabled()),$=y(C),_=m($,h),A=i.find_path(_.map,"start","end"),I=[];for(let j=1;j<A.length-1;j++)I.push(_.table[A[j]].node);return t.fromArray(p(I))},t.rawSplit=function(u){return t.fromArray(w(u,c.isKanjiModeEnabled()))}})(qn);const Nt=P,Ut=Pt,Jf=Ef,Yf=xf,qf=Un,Qf=zn,te=Hn,ee=Bt,Xf=If,At=Gn,Zf=Jn,tg=F,zt=qn;function eg(t,e){const n=t.size,r=Qf.getPositions(e);for(let a=0;a<r.length;a++){const o=r[a][0],s=r[a][1];for(let c=-1;c<=7;c++)if(!(o+c<=-1||n<=o+c))for(let i=-1;i<=7;i++)s+i<=-1||n<=s+i||(c>=0&&c<=6&&(i===0||i===6)||i>=0&&i<=6&&(c===0||c===6)||c>=2&&c<=4&&i>=2&&i<=4?t.set(o+c,s+i,!0,!0):t.set(o+c,s+i,!1,!0))}}function ng(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function rg(t,e){const n=qf.getPositions(e);for(let r=0;r<n.length;r++){const a=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let c=-2;c<=2;c++)s===-2||s===2||c===-2||c===2||s===0&&c===0?t.set(a+s,o+c,!0,!0):t.set(a+s,o+c,!1,!0)}}function og(t,e){const n=t.size,r=At.getEncodedBits(e);let a,o,s;for(let c=0;c<18;c++)a=Math.floor(c/3),o=c%3+n-8-3,s=(r>>c&1)===1,t.set(a,o,s,!0),t.set(o,a,s,!0)}function Ht(t,e,n){const r=t.size,a=Zf.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(a>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function ag(t,e){const n=t.size;let r=-1,a=n-1,o=7,s=0;for(let c=n-1;c>0;c-=2)for(c===6&&c--;;){for(let i=0;i<2;i++)if(!t.isReserved(a,c-i)){let l=!1;s<e.length&&(l=(e[s]>>>o&1)===1),t.set(a,c-i,l),o--,o===-1&&(s++,o=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}function sg(t,e,n){const r=new Jf;n.forEach(function(i){r.put(i.mode.bit,4),r.put(i.getLength(),tg.getCharCountIndicator(i.mode,t)),i.write(r)});const a=Nt.getSymbolTotalCodewords(t),o=ee.getTotalCodewordsCount(t,e),s=(a-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const c=(s-r.getLengthInBits())/8;for(let i=0;i<c;i++)r.put(i%2?17:236,8);return ig(r,t,e)}function ig(t,e,n){const r=Nt.getSymbolTotalCodewords(e),a=ee.getTotalCodewordsCount(e,n),o=r-a,s=ee.getBlocksCount(e,n),c=r%s,i=s-c,l=Math.floor(r/s),g=Math.floor(o/s),w=g+1,v=l-g,p=new Xf(v);let y=0;const m=new Array(s),b=new Array(s);let f=0;const u=new Uint8Array(t.buffer);for(let A=0;A<s;A++){const I=A<i?g:w;m[A]=u.slice(y,y+I),b[A]=p.encode(m[A]),y+=I,f=Math.max(f,I)}const h=new Uint8Array(r);let C=0,$,_;for($=0;$<f;$++)for(_=0;_<s;_++)$<m[_].length&&(h[C++]=m[_][$]);for($=0;$<v;$++)for(_=0;_<s;_++)h[C++]=b[_][$];return h}function cg(t,e,n,r){let a;if(Array.isArray(t))a=zt.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const g=zt.rawSplit(t);l=At.getBestVersionForData(g,n)}a=zt.fromString(t,l||40)}else throw new Error("Invalid data");const o=At.getBestVersionForData(a,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=sg(e,n,a),c=Nt.getSymbolSize(e),i=new Yf(c);return eg(i,e),ng(i),rg(i,e),Ht(i,n,0),e>=7&&og(i,e),ag(i,s),isNaN(r)&&(r=te.getBestMask(i,Ht.bind(null,i,n))),te.applyMask(r,i),Ht(i,n,r),{modules:i,version:e,errorCorrectionLevel:n,maskPattern:r,segments:a}}kn.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Ut.M,a,o;return typeof n<"u"&&(r=Ut.from(n.errorCorrectionLevel,Ut.M),a=At.from(n.version),o=te.from(n.maskPattern),n.toSJISFunc&&Nt.setToSJISFunction(n.toSJISFunc)),cg(e,a,r,o)};var Xn={},Ce={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:a,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},t.getImageWidth=function(r,a){const o=t.getScale(r,a);return Math.floor((r+a.margin*2)*o)},t.qrToImageData=function(r,a,o){const s=a.modules.size,c=a.modules.data,i=t.getScale(s,o),l=Math.floor((s+o.margin*2)*i),g=o.margin*i,w=[o.color.light,o.color.dark];for(let v=0;v<l;v++)for(let p=0;p<l;p++){let y=(v*l+p)*4,m=o.color.light;if(v>=g&&p>=g&&v<l-g&&p<l-g){const b=Math.floor((v-g)/i),f=Math.floor((p-g)/i);m=w[c[b*s+f]?1:0]}r[y++]=m.r,r[y++]=m.g,r[y++]=m.b,r[y]=m.a}}})(Ce);(function(t){const e=Ce;function n(a,o,s){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,c){let i=c,l=s;typeof i>"u"&&(!s||!s.getContext)&&(i=s,s=void 0),s||(l=r()),i=e.getOptions(i);const g=e.getImageWidth(o.modules.size,i),w=l.getContext("2d"),v=w.createImageData(g,g);return e.qrToImageData(v.data,o,i),n(w,l,g),w.putImageData(v,0,0),l},t.renderToDataURL=function(o,s,c){let i=c;typeof i>"u"&&(!s||!s.getContext)&&(i=s,s=void 0),i||(i={});const l=t.render(o,s,i),g=i.type||"image/png",w=i.rendererOpts||{};return l.toDataURL(g,w.quality)}})(Xn);var Zn={};const lg=Ce;function cn(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Kt(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function ug(t,e,n){let r="",a=0,o=!1,s=0;for(let c=0;c<t.length;c++){const i=Math.floor(c%e),l=Math.floor(c/e);!i&&!o&&(o=!0),t[c]?(s++,c>0&&i>0&&t[c-1]||(r+=o?Kt("M",i+n,.5+l+n):Kt("m",a,0),a=0,o=!1),i+1<e&&t[c+1]||(r+=Kt("h",s),s=0)):a++}return r}Zn.render=function(e,n,r){const a=lg.getOptions(n),o=e.modules.size,s=e.modules.data,c=o+a.margin*2,i=a.color.light.a?"<path "+cn(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+cn(a.color.dark,"stroke")+' d="'+ug(s,o,a.margin)+'"/>',g='viewBox="0 0 '+c+" "+c+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+g+' shape-rendering="crispEdges">'+i+l+`</svg>
`;return typeof r=="function"&&r(null,v),v};const dg=_f,ne=kn,tr=Xn,fg=Zn;function we(t,e,n,r,a){const o=[].slice.call(arguments,1),s=o.length,c=typeof o[s-1]=="function";if(!c&&!dg())throw new Error("Callback required as last argument");if(c){if(s<2)throw new Error("Too few arguments provided");s===2?(a=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof a>"u"?(a=r,r=void 0):(a=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(i,l){try{const g=ne.create(n,r);i(t(g,e,r))}catch(g){l(g)}})}try{const i=ne.create(n,r);a(null,t(i,e,r))}catch(i){a(i)}}ct.create=ne.create;ct.toCanvas=we.bind(null,tr.render);ct.toDataURL=we.bind(null,tr.renderToDataURL);ct.toString=we.bind(null,function(t,e,n){return fg.render(t,n)});const er=fn.section`
  width: 400px;
  height: 500px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  & > span.account_address {
    display: inline-block;
    width: 300px;
    white-space: pre-wrap;
    word-break: break-all;
    text-align: center;
  }
`,gg=fn.div`
  width: 10px;
  height: 24px;
  border-radius: 10px;
  text-align: center;
  line-height: 24px;
  writing-mode: vertical-lr;
  cursor: pointer;
`;let gt;const hg=gn.forwardRef(function(e,n){return d.jsx(yn,{elevation:6,ref:n,variant:"filled",...e})}),pg={anchorEl:null,open:!1,currentAccount:null,showDialog:!1,SnackbarOpen:!1,accountMessage:"",status:""},vg=(t,e)=>({...t,...e}),yg=t=>{const{Accounts:e,outerDispatch:n,walletInstance:r}=t,[a,o]=T.useReducer(vg,pg),{anchorEl:s,open:c,currentAccount:i,showDialog:l,SnackbarOpen:g,accountMessage:w,status:v}=a,p=oe(),y=ae(u=>u.account.password),m=()=>{o({open:!1})},b=()=>{o({showDialog:!0}),gt=setTimeout(()=>{const u=document.querySelector("#qrCode");u&&ct.toCanvas(u,i.address,function(h){h&&console.error(h),console.log("%c 666666 生成账户二维码success!","color: #0f0;")})},100)},f=async()=>{try{const u=await r.remove(i.address),h=await r.save(y,"myWallet");u&&h?(o({anchorEl:null,open:!1,currentAccount:void 0,SnackbarOpen:!0,accountMessage:"账户隐藏成功!",status:"success"}),p(cr())):o({SnackbarOpen:!0,accountMessage:"账户隐藏失败!",status:"error"})}catch(u){console.log("%c 50000 e is:","color: #f00;",u)}};return T.useEffect(()=>()=>{gt&&(clearTimeout(gt),gt=void 0)},[]),d.jsxs(vn,{sx:{pt:0,height:"400px"},children:[e.map((u,h)=>{const C=u.address,[$,_]=[C.slice(0,7),C.slice(-7)];return d.jsxs(mt,{button:!0,onClick:()=>{p(hn(u==null?void 0:u.address)),console.log("%c 9999999 account is:","color: #0f0;",u),n({showDialog:!1})},children:[d.jsx(vt,{children:d.jsx(yt,{sx:{bgcolor:_e[100],color:_e[600]},children:d.jsx($r,{})})}),d.jsxs(Ar,{children:[d.jsxs("div",{className:"account",children:[d.jsx("span",{children:(u==null?void 0:u.title)??`Account${h+1}`}),d.jsxs("section",{className:"currency_action",children:[d.jsx("span",{children:u.currency}),d.jsx(gg,{onClick:A=>{var I,j;o({anchorEl:A.target,open:!0,currentAccount:u}),(I=A==null?void 0:A.preventDefault)==null||I.call(A),(j=A==null?void 0:A.stopPropagation)==null||j.call(A)},children:"..."})]})]}),d.jsxs("div",{className:"address",children:[d.jsxs("section",{className:"text_wrapper",children:[d.jsx("span",{className:"front_span",children:$}),d.jsx("span",{className:"ellipses_span",children:"..."}),d.jsx("span",{className:"end_span",children:_})]}),d.jsxs("section",{className:"account_balance",children:[d.jsx("span",{className:"account_count",children:u.balance}),d.jsx("span",{className:"balance_unit",children:"Sepolia ETH"})]})]})]})]},u.address)}),d.jsxs(mt,{autoFocus:!0,button:!0,onClick:()=>{n({showAccountList:!1})},children:[d.jsx(vt,{children:d.jsx(yt,{children:d.jsx(Vt,{})})}),d.jsx(Gt,{primary:"Add account"})]}),d.jsx(yr,{id:"basic-menu",anchorEl:s,open:c,onClose:m,MenuListProps:{"aria-labelledby":"basic-button"},children:[{title:"账户详情",key:"detail"},{title:"隐藏账户",key:"hide"}].map(({title:u,key:h})=>d.jsx(to,{onClick:()=>{h==="detail"?b():h==="hide"&&f()},children:u},h))}),d.jsx(se,{onClose:()=>{o({showDialog:!1})},open:l,sx:{minWidth:{xs:300,md:300}},children:d.jsxs(er,{children:[d.jsx("h2",{children:"账户详情"}),d.jsx("canvas",{id:"qrCode"}),d.jsx("span",{className:"account_address",children:i==null?void 0:i.address})]})}),d.jsx(mn,{open:g,autoHideDuration:2e3,onClose:()=>{o({SnackbarOpen:!1,accountMessage:"",status:""})},children:d.jsx(hg,{severity:v,sx:{width:"100%"},children:w})})]})},mg=T.memo(yg),bg=L(mr)(({theme:t})=>({width:"300px",height:"50px",marginTop:"10px",borderRadius:"25px",color:t.palette.getContrastText(Rt[500]),backgroundColor:Rt[500],"&:hover":{backgroundColor:Rt[700]}})),Cg={open:!1,accountMessage:"",status:"",showDialog:!1,fieldError:!1,helperText:""},wg=(t,e)=>({...t,...e}),$g=gn.forwardRef(function(e,n){return d.jsx(yn,{elevation:6,ref:n,variant:"filled",...e})}),Ag=t=>{const{walletInstance:e,outerDispatch:n,accounts:r}=t,a=T.useRef(null),[o,s]=T.useReducer(wg,Cg),{open:c,accountMessage:i,status:l,showDialog:g,fieldError:w,helperText:v}=o,p=ae(b=>b.account.password),y=oe(),m=async b=>{if(s({fieldError:!b,helperText:b?"":"请填入私钥！"}),b)try{return await r.parseAndValidatePrivateKey(`0x${b}`),!0}catch{return s({fieldError:!0,helperText:"请填入正确的私钥！"}),!1}};return d.jsxs(d.Fragment,{children:[d.jsxs(vn,{sx:{pt:0},children:[d.jsxs(mt,{autoFocus:!0,button:!0,onClick:async()=>{try{await e.create(1),await e.save(p,"myWallet"),s({open:!0,accountMessage:"account创建成功!",status:"success"}),n({showAccountList:!0}),y(Te())}catch{s({open:!0,accountMessage:"account创建失败!",status:"error"})}},children:[d.jsx(vt,{children:d.jsx(yt,{children:d.jsx(Vt,{})})}),d.jsx(Gt,{primary:"add a new account"})]}),d.jsxs(mt,{autoFocus:!0,button:!0,onClick:()=>{s({showDialog:!0})},children:[d.jsx(vt,{children:d.jsx(yt,{children:d.jsx(Vt,{})})}),d.jsx(Gt,{primary:"导入账户"})]})]}),d.jsx(se,{onClose:()=>{s({showDialog:!1})},open:g,sx:{minWidth:{xs:300,md:300}},children:d.jsxs(er,{children:[d.jsx("h2",{children:"导入账户"}),d.jsx(br,{inputRef:a,id:"login_field",label:"私钥",variant:"filled",type:"password",error:w,helperText:v,onChange:Cr(async b=>{var u;const f=(u=b==null?void 0:b.target)==null?void 0:u.value;m(f)},200),sx:{width:"300px",background:"#fffb8f",borderRadius:"5px"}}),d.jsx(bg,{variant:"contained",onClick:async()=>{var b;try{const f=(b=a==null?void 0:a.current)==null?void 0:b.value;await m(f),await e.add(`0x${f}`),s({showDialog:!1,open:!0,accountMessage:"加载钱包成功!",status:"success"}),n({showAccountList:!0}),y(Te())}catch(f){console.log("%c 钱包加载失败 e is:","color: #f00;",f),s({open:!0,accountMessage:"加载钱包失败!",status:"error"})}},children:"确定"})]})}),d.jsx(mn,{open:c,autoHideDuration:2e3,onClose:()=>{s({open:!1,accountMessage:"",status:""})},children:d.jsx($g,{severity:l,sx:{width:"100%"},children:i})})]})},_g=T.memo(Ag),ln={AccountList:mg,AddNewAccount:_g},un=new Set([null,void 0,""]),Tg={showDialog:!1,accountList:[],showAccountList:!0},Eg=(t,e)=>({...t,...e});let et;const xg=t=>{var b,f;const{web3Instance:e,walletInstance:n,accounts:r}=t,[a,o]=T.useReducer(Eg,Tg),{showDialog:s,accountList:c,showAccountList:i}=a,l=oe(),g=ae(u=>u.account),w=lr(),{currentAccount:v,password:p,accountLength:y}=g,m=async()=>{var u;if(p){const h=await n.load(p,"myWallet"),C=(u=h==null?void 0:h[0])==null?void 0:u.address;l(hn(C));const $=h.length,_=new Set,A=[];for(let I=0;I<$;I+=1){let j=Af(h[I]);const M=j.address;if(_.has(M))continue;_.add(M);const O=await e.eth.getBalance(M),D=ur.utils.fromWei(O,"ether");j.balance=`${(+D).toFixed(4)}`,A.push(j)}o({accountList:A}),l(dr($))}};return T.useEffect(()=>{const u=localStorage.myWallet;un.has(u)?w("/welcom"):un.has(p)&&w("/login")},[p]),T.useEffect(()=>{m(),et&&(clearTimeout(et),et=void 0)},[p,y]),d.jsxs(Br,{variant:"h6",component:"div",sx:{flexGrow:1},children:[d.jsx(_r,{}),d.jsxs(Tr,{children:[d.jsxs("div",{className:"top_wrapper",onClick:()=>{o({showDialog:!0})},children:[d.jsx("img",{src:"/crypto.svg",alt:"account",className:"crypto_account"}),d.jsx("span",{children:"Account1"}),d.jsx("div",{className:"expand_more"})]}),d.jsx("div",{className:"bottom_wrapper",children:d.jsxs("section",{className:"text_wrapper",children:[d.jsx("span",{className:"front_span",children:(b=v==null?void 0:v.slice)==null?void 0:b.call(v,0,7)}),d.jsx("span",{className:"ellipses_span",children:"..."}),d.jsx("span",{className:"end_span",children:(f=v==null?void 0:v.slice)==null?void 0:f.call(v,-7)})]})})]}),d.jsxs(se,{onClose:()=>{o({showDialog:!1}),et=setTimeout(()=>{o({showAccountList:!0})},200)},open:s,sx:{minWidth:{xs:300,md:300}},children:[d.jsx(fr,{children:d.jsxs(Er,{children:[i?"选择一个账户":"添加账户",d.jsx(gr,{onClick:()=>{o({showDialog:!1}),et=setTimeout(()=>{o({showAccountList:!0})},200)}})]})}),i?d.jsx(ln.AccountList,{Accounts:c,outerDispatch:o,walletInstance:n}):d.jsx(ln.AddNewAccount,{walletInstance:n,outerDispatch:o,accounts:r})]})]})},Fg=T.memo(xg);export{Fg as default};
