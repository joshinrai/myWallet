import{a as zt,g as Lr,s as Ge,p as Dr,_ as Z,q as ot,r as S,u as Or,d as Rr,j as u,e as fe,f as Fr,i as Ur,m as ze,R as We,x as Wt,n as Jt,y as Je,z as de,A as kr,C as xt,D as ge,E as Kr,W as Vr,F as Hr}from"./index.js";import{D as Gr,d as zr}from"./Close.js";import{_ as bt,i as et,b as N,c as rt,d as Wr,e as Jr,M as Yr,B as qr,T as Qr,t as Xr}from"./throttle.js";import{L as ut,A as ft,d as Zr,S as tn,a as Lt,b as en,c as rn,D as nn}from"./styles.js";import{A as Ye,S as qe}from"./Snackbar.js";import{B as an,L as he,u as on,f as sn,h as Qe}from"./List.js";import{L as dt}from"./ListItem.js";import{l as pe,L as Dt}from"./ListItemText.js";import{D as Yt}from"./Dialog.js";import{T as cn}from"./createSvgIcon2.js";import"./react-is.production.min.js";import"./Modal.js";import"./createSvgIcon.js";const ye=zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ve=zt("MuiListItemIcon",["root","alignItemsFlexStart"]);function ln(t){return Lr("MuiMenuItem",t)}const q=zt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),un=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],fn=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},dn=t=>{const{disabled:e,dense:r,divider:n,disableGutters:o,selected:a,classes:s}=t,i=Fr({root:["root",r&&"dense",e&&"disabled",!o&&"gutters",n&&"divider",a&&"selected"]},ln,s);return Z({},s,i)},gn=Ge(an,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:fn})(({theme:t,ownerState:e})=>Z({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${q.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ot(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${q.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${q.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ot(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ot(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${q.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${q.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${ye.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${ye.inset}`]:{marginLeft:52},[`& .${pe.root}`]:{marginTop:0,marginBottom:0},[`& .${pe.inset}`]:{paddingLeft:36},[`& .${ve.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&Z({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${ve.root} svg`]:{fontSize:"1.25rem"}}))),hn=S.forwardRef(function(e,r){const n=Or({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:a="li",dense:s=!1,divider:c=!1,disableGutters:i=!1,focusVisibleClassName:l,role:d="menuitem",tabIndex:_,className:h}=n,p=Rr(n,un),m=S.useContext(he),w=S.useMemo(()=>({dense:s||m.dense||!1,disableGutters:i}),[m.dense,s,i]),b=S.useRef(null);on(()=>{o&&b.current&&b.current.focus()},[o]);const g=Z({},n,{dense:w.dense,divider:c,disableGutters:i}),f=dn(n),y=sn(b,r);let v;return n.disabled||(v=_!==void 0?_:-1),u.jsx(he.Provider,{value:w,children:u.jsx(gn,Z({ref:y,role:d,tabIndex:v,component:a,focusVisibleClassName:fe(f.focusVisible,l),className:fe(f.root,h)},p,{ownerState:g,classes:f}))})});function pn(){this.__data__=[],this.size=0}var yn=pn;function vn(t,e){return t===e||t!==t&&e!==e}var Xe=vn,bn=Xe;function mn(t,e){for(var r=t.length;r--;)if(bn(t[r][0],e))return r;return-1}var mt=mn,wn=mt,_n=Array.prototype,$n=_n.splice;function Cn(t){var e=this.__data__,r=wn(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():$n.call(e,r,1),--this.size,!0}var An=Cn,Tn=mt;function En(t){var e=this.__data__,r=Tn(e,t);return r<0?void 0:e[r][1]}var In=En,xn=mt;function jn(t){return xn(this.__data__,t)>-1}var Sn=jn,Bn=mt;function Mn(t,e){var r=this.__data__,n=Bn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Pn=Mn,Nn=yn,Ln=An,Dn=In,On=Sn,Rn=Pn;function H(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}H.prototype.clear=Nn;H.prototype.delete=Ln;H.prototype.get=Dn;H.prototype.has=On;H.prototype.set=Rn;var wt=H,Fn=wt;function Un(){this.__data__=new Fn,this.size=0}var kn=Un;function Kn(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Vn=Kn;function Hn(t){return this.__data__.get(t)}var Gn=Hn;function zn(t){return this.__data__.has(t)}var Wn=zn,Jn=bt,Yn=et,qn="[object AsyncFunction]",Qn="[object Function]",Xn="[object GeneratorFunction]",Zn="[object Proxy]";function ta(t){if(!Yn(t))return!1;var e=Jn(t);return e==Qn||e==Xn||e==qn||e==Zn}var Ze=ta,ea=N,ra=ea["__core-js_shared__"],na=ra,jt=na,be=function(){var t=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function aa(t){return!!be&&be in t}var oa=aa,sa=Function.prototype,ia=sa.toString;function ca(t){if(t!=null){try{return ia.call(t)}catch{}try{return t+""}catch{}}return""}var tr=ca,la=Ze,ua=oa,fa=et,da=tr,ga=/[\\^$.*+?()[\]{}|]/g,ha=/^\[object .+?Constructor\]$/,pa=Function.prototype,ya=Object.prototype,va=pa.toString,ba=ya.hasOwnProperty,ma=RegExp("^"+va.call(ba).replace(ga,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wa(t){if(!fa(t)||ua(t))return!1;var e=la(t)?ma:ha;return e.test(da(t))}var _a=wa;function $a(t,e){return t==null?void 0:t[e]}var Ca=$a,Aa=_a,Ta=Ca;function Ea(t,e){var r=Ta(t,e);return Aa(r)?r:void 0}var F=Ea,Ia=F,xa=N,ja=Ia(xa,"Map"),qt=ja,Sa=F,Ba=Sa(Object,"create"),_t=Ba,me=_t;function Ma(){this.__data__=me?me(null):{},this.size=0}var Pa=Ma;function Na(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var La=Na,Da=_t,Oa="__lodash_hash_undefined__",Ra=Object.prototype,Fa=Ra.hasOwnProperty;function Ua(t){var e=this.__data__;if(Da){var r=e[t];return r===Oa?void 0:r}return Fa.call(e,t)?e[t]:void 0}var ka=Ua,Ka=_t,Va=Object.prototype,Ha=Va.hasOwnProperty;function Ga(t){var e=this.__data__;return Ka?e[t]!==void 0:Ha.call(e,t)}var za=Ga,Wa=_t,Ja="__lodash_hash_undefined__";function Ya(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Wa&&e===void 0?Ja:e,this}var qa=Ya,Qa=Pa,Xa=La,Za=ka,to=za,eo=qa;function G(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}G.prototype.clear=Qa;G.prototype.delete=Xa;G.prototype.get=Za;G.prototype.has=to;G.prototype.set=eo;var ro=G,we=ro,no=wt,ao=qt;function oo(){this.size=0,this.__data__={hash:new we,map:new(ao||no),string:new we}}var so=oo;function io(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var co=io,lo=co;function uo(t,e){var r=t.__data__;return lo(e)?r[typeof e=="string"?"string":"hash"]:r.map}var $t=uo,fo=$t;function go(t){var e=fo(this,t).delete(t);return this.size-=e?1:0,e}var ho=go,po=$t;function yo(t){return po(this,t).get(t)}var vo=yo,bo=$t;function mo(t){return bo(this,t).has(t)}var wo=mo,_o=$t;function $o(t,e){var r=_o(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Co=$o,Ao=so,To=ho,Eo=vo,Io=wo,xo=Co;function z(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}z.prototype.clear=Ao;z.prototype.delete=To;z.prototype.get=Eo;z.prototype.has=Io;z.prototype.set=xo;var jo=z,So=wt,Bo=qt,Mo=jo,Po=200;function No(t,e){var r=this.__data__;if(r instanceof So){var n=r.__data__;if(!Bo||n.length<Po-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Mo(n)}return r.set(t,e),this.size=r.size,this}var Lo=No,Do=wt,Oo=kn,Ro=Vn,Fo=Gn,Uo=Wn,ko=Lo;function W(t){var e=this.__data__=new Do(t);this.size=e.size}W.prototype.clear=Oo;W.prototype.delete=Ro;W.prototype.get=Fo;W.prototype.has=Uo;W.prototype.set=ko;var Ko=W;function Vo(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Ho=Vo,Go=F,zo=function(){try{var t=Go(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Wo=zo,_e=Wo;function Jo(t,e,r){e=="__proto__"&&_e?_e(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var er=Jo,Yo=er,qo=Xe,Qo=Object.prototype,Xo=Qo.hasOwnProperty;function Zo(t,e,r){var n=t[e];(!(Xo.call(t,e)&&qo(n,r))||r===void 0&&!(e in t))&&Yo(t,e,r)}var rr=Zo,ts=rr,es=er;function rs(t,e,r,n){var o=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var c=e[a],i=n?n(r[c],t[c],c,r,t):void 0;i===void 0&&(i=t[c]),o?es(r,c,i):ts(r,c,i)}return r}var Ct=rs;function ns(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var as=ns,os=bt,ss=rt,is="[object Arguments]";function cs(t){return ss(t)&&os(t)==is}var ls=cs,$e=ls,us=rt,nr=Object.prototype,fs=nr.hasOwnProperty,ds=nr.propertyIsEnumerable,gs=$e(function(){return arguments}())?$e:function(t){return us(t)&&fs.call(t,"callee")&&!ds.call(t,"callee")},hs=gs,ps=Array.isArray,Qt=ps,gt={exports:{}};function ys(){return!1}var vs=ys;gt.exports;(function(t,e){var r=N,n=vs,o=e&&!e.nodeType&&e,a=o&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===o,c=s?r.Buffer:void 0,i=c?c.isBuffer:void 0,l=i||n;t.exports=l})(gt,gt.exports);var ar=gt.exports,bs=9007199254740991,ms=/^(?:0|[1-9]\d*)$/;function ws(t,e){var r=typeof t;return e=e??bs,!!e&&(r=="number"||r!="symbol"&&ms.test(t))&&t>-1&&t%1==0&&t<e}var _s=ws,$s=9007199254740991;function Cs(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$s}var or=Cs,As=bt,Ts=or,Es=rt,Is="[object Arguments]",xs="[object Array]",js="[object Boolean]",Ss="[object Date]",Bs="[object Error]",Ms="[object Function]",Ps="[object Map]",Ns="[object Number]",Ls="[object Object]",Ds="[object RegExp]",Os="[object Set]",Rs="[object String]",Fs="[object WeakMap]",Us="[object ArrayBuffer]",ks="[object DataView]",Ks="[object Float32Array]",Vs="[object Float64Array]",Hs="[object Int8Array]",Gs="[object Int16Array]",zs="[object Int32Array]",Ws="[object Uint8Array]",Js="[object Uint8ClampedArray]",Ys="[object Uint16Array]",qs="[object Uint32Array]",E={};E[Ks]=E[Vs]=E[Hs]=E[Gs]=E[zs]=E[Ws]=E[Js]=E[Ys]=E[qs]=!0;E[Is]=E[xs]=E[Us]=E[js]=E[ks]=E[Ss]=E[Bs]=E[Ms]=E[Ps]=E[Ns]=E[Ls]=E[Ds]=E[Os]=E[Rs]=E[Fs]=!1;function Qs(t){return Es(t)&&Ts(t.length)&&!!E[As(t)]}var Xs=Qs;function Zs(t){return function(e){return t(e)}}var Xt=Zs,ht={exports:{}};ht.exports;(function(t,e){var r=Wr,n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===n,s=a&&r.process,c=function(){try{var i=o&&o.require&&o.require("util").types;return i||s&&s.binding&&s.binding("util")}catch{}}();t.exports=c})(ht,ht.exports);var Zt=ht.exports,ti=Xs,ei=Xt,Ce=Zt,Ae=Ce&&Ce.isTypedArray,ri=Ae?ei(Ae):ti,ni=ri,ai=as,oi=hs,si=Qt,ii=ar,ci=_s,li=ni,ui=Object.prototype,fi=ui.hasOwnProperty;function di(t,e){var r=si(t),n=!r&&oi(t),o=!r&&!n&&ii(t),a=!r&&!n&&!o&&li(t),s=r||n||o||a,c=s?ai(t.length,String):[],i=c.length;for(var l in t)(e||fi.call(t,l))&&!(s&&(l=="length"||o&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ci(l,i)))&&c.push(l);return c}var sr=di,gi=Object.prototype;function hi(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||gi;return t===r}var te=hi;function pi(t,e){return function(r){return t(e(r))}}var ir=pi,yi=ir,vi=yi(Object.keys,Object),bi=vi,mi=te,wi=bi,_i=Object.prototype,$i=_i.hasOwnProperty;function Ci(t){if(!mi(t))return wi(t);var e=[];for(var r in Object(t))$i.call(t,r)&&r!="constructor"&&e.push(r);return e}var Ai=Ci,Ti=Ze,Ei=or;function Ii(t){return t!=null&&Ei(t.length)&&!Ti(t)}var cr=Ii,xi=sr,ji=Ai,Si=cr;function Bi(t){return Si(t)?xi(t):ji(t)}var ee=Bi,Mi=Ct,Pi=ee;function Ni(t,e){return t&&Mi(e,Pi(e),t)}var Li=Ni;function Di(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Oi=Di,Ri=et,Fi=te,Ui=Oi,ki=Object.prototype,Ki=ki.hasOwnProperty;function Vi(t){if(!Ri(t))return Ui(t);var e=Fi(t),r=[];for(var n in t)n=="constructor"&&(e||!Ki.call(t,n))||r.push(n);return r}var Hi=Vi,Gi=sr,zi=Hi,Wi=cr;function Ji(t){return Wi(t)?Gi(t,!0):zi(t)}var re=Ji,Yi=Ct,qi=re;function Qi(t,e){return t&&Yi(e,qi(e),t)}var Xi=Qi,pt={exports:{}};pt.exports;(function(t,e){var r=N,n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===n,s=a?r.Buffer:void 0,c=s?s.allocUnsafe:void 0;function i(l,d){if(d)return l.slice();var _=l.length,h=c?c(_):new l.constructor(_);return l.copy(h),h}t.exports=i})(pt,pt.exports);var Zi=pt.exports;function tc(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var ec=tc;function rc(t,e){for(var r=-1,n=t==null?0:t.length,o=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[o++]=s)}return a}var nc=rc;function ac(){return[]}var lr=ac,oc=nc,sc=lr,ic=Object.prototype,cc=ic.propertyIsEnumerable,Te=Object.getOwnPropertySymbols,lc=Te?function(t){return t==null?[]:(t=Object(t),oc(Te(t),function(e){return cc.call(t,e)}))}:sc,ne=lc,uc=Ct,fc=ne;function dc(t,e){return uc(t,fc(t),e)}var gc=dc;function hc(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var ur=hc,pc=ir,yc=pc(Object.getPrototypeOf,Object),fr=yc,vc=ur,bc=fr,mc=ne,wc=lr,_c=Object.getOwnPropertySymbols,$c=_c?function(t){for(var e=[];t;)vc(e,mc(t)),t=bc(t);return e}:wc,dr=$c,Cc=Ct,Ac=dr;function Tc(t,e){return Cc(t,Ac(t),e)}var Ec=Tc,Ic=ur,xc=Qt;function jc(t,e,r){var n=e(t);return xc(t)?n:Ic(n,r(t))}var gr=jc,Sc=gr,Bc=ne,Mc=ee;function Pc(t){return Sc(t,Mc,Bc)}var Nc=Pc,Lc=gr,Dc=dr,Oc=re;function Rc(t){return Lc(t,Oc,Dc)}var Fc=Rc,Uc=F,kc=N,Kc=Uc(kc,"DataView"),Vc=Kc,Hc=F,Gc=N,zc=Hc(Gc,"Promise"),Wc=zc,Jc=F,Yc=N,qc=Jc(Yc,"Set"),Qc=qc,Xc=F,Zc=N,tl=Xc(Zc,"WeakMap"),el=tl,Ot=Vc,Rt=qt,Ft=Wc,Ut=Qc,kt=el,hr=bt,J=tr,Ee="[object Map]",rl="[object Object]",Ie="[object Promise]",xe="[object Set]",je="[object WeakMap]",Se="[object DataView]",nl=J(Ot),al=J(Rt),ol=J(Ft),sl=J(Ut),il=J(kt),R=hr;(Ot&&R(new Ot(new ArrayBuffer(1)))!=Se||Rt&&R(new Rt)!=Ee||Ft&&R(Ft.resolve())!=Ie||Ut&&R(new Ut)!=xe||kt&&R(new kt)!=je)&&(R=function(t){var e=hr(t),r=e==rl?t.constructor:void 0,n=r?J(r):"";if(n)switch(n){case nl:return Se;case al:return Ee;case ol:return Ie;case sl:return xe;case il:return je}return e});var ae=R,cl=Object.prototype,ll=cl.hasOwnProperty;function ul(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&ll.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var fl=ul,dl=N,gl=dl.Uint8Array,hl=gl,Be=hl;function pl(t){var e=new t.constructor(t.byteLength);return new Be(e).set(new Be(t)),e}var oe=pl,yl=oe;function vl(t,e){var r=e?yl(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var bl=vl,ml=/\w*$/;function wl(t){var e=new t.constructor(t.source,ml.exec(t));return e.lastIndex=t.lastIndex,e}var _l=wl,Me=Jr,Pe=Me?Me.prototype:void 0,Ne=Pe?Pe.valueOf:void 0;function $l(t){return Ne?Object(Ne.call(t)):{}}var Cl=$l,Al=oe;function Tl(t,e){var r=e?Al(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var El=Tl,Il=oe,xl=bl,jl=_l,Sl=Cl,Bl=El,Ml="[object Boolean]",Pl="[object Date]",Nl="[object Map]",Ll="[object Number]",Dl="[object RegExp]",Ol="[object Set]",Rl="[object String]",Fl="[object Symbol]",Ul="[object ArrayBuffer]",kl="[object DataView]",Kl="[object Float32Array]",Vl="[object Float64Array]",Hl="[object Int8Array]",Gl="[object Int16Array]",zl="[object Int32Array]",Wl="[object Uint8Array]",Jl="[object Uint8ClampedArray]",Yl="[object Uint16Array]",ql="[object Uint32Array]";function Ql(t,e,r){var n=t.constructor;switch(e){case Ul:return Il(t);case Ml:case Pl:return new n(+t);case kl:return xl(t,r);case Kl:case Vl:case Hl:case Gl:case zl:case Wl:case Jl:case Yl:case ql:return Bl(t,r);case Nl:return new n;case Ll:case Rl:return new n(t);case Dl:return jl(t);case Ol:return new n;case Fl:return Sl(t)}}var Xl=Ql,Zl=et,Le=Object.create,tu=function(){function t(){}return function(e){if(!Zl(e))return{};if(Le)return Le(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),eu=tu,ru=eu,nu=fr,au=te;function ou(t){return typeof t.constructor=="function"&&!au(t)?ru(nu(t)):{}}var su=ou,iu=ae,cu=rt,lu="[object Map]";function uu(t){return cu(t)&&iu(t)==lu}var fu=uu,du=fu,gu=Xt,De=Zt,Oe=De&&De.isMap,hu=Oe?gu(Oe):du,pu=hu,yu=ae,vu=rt,bu="[object Set]";function mu(t){return vu(t)&&yu(t)==bu}var wu=mu,_u=wu,$u=Xt,Re=Zt,Fe=Re&&Re.isSet,Cu=Fe?$u(Fe):_u,Au=Cu,Tu=Ko,Eu=Ho,Iu=rr,xu=Li,ju=Xi,Su=Zi,Bu=ec,Mu=gc,Pu=Ec,Nu=Nc,Lu=Fc,Du=ae,Ou=fl,Ru=Xl,Fu=su,Uu=Qt,ku=ar,Ku=pu,Vu=et,Hu=Au,Gu=ee,zu=re,Wu=1,Ju=2,Yu=4,pr="[object Arguments]",qu="[object Array]",Qu="[object Boolean]",Xu="[object Date]",Zu="[object Error]",yr="[object Function]",tf="[object GeneratorFunction]",ef="[object Map]",rf="[object Number]",vr="[object Object]",nf="[object RegExp]",af="[object Set]",of="[object String]",sf="[object Symbol]",cf="[object WeakMap]",lf="[object ArrayBuffer]",uf="[object DataView]",ff="[object Float32Array]",df="[object Float64Array]",gf="[object Int8Array]",hf="[object Int16Array]",pf="[object Int32Array]",yf="[object Uint8Array]",vf="[object Uint8ClampedArray]",bf="[object Uint16Array]",mf="[object Uint32Array]",T={};T[pr]=T[qu]=T[lf]=T[uf]=T[Qu]=T[Xu]=T[ff]=T[df]=T[gf]=T[hf]=T[pf]=T[ef]=T[rf]=T[vr]=T[nf]=T[af]=T[of]=T[sf]=T[yf]=T[vf]=T[bf]=T[mf]=!0;T[Zu]=T[yr]=T[cf]=!1;function lt(t,e,r,n,o,a){var s,c=e&Wu,i=e&Ju,l=e&Yu;if(r&&(s=o?r(t,n,o,a):r(t)),s!==void 0)return s;if(!Vu(t))return t;var d=Uu(t);if(d){if(s=Ou(t),!c)return Bu(t,s)}else{var _=Du(t),h=_==yr||_==tf;if(ku(t))return Su(t,c);if(_==vr||_==pr||h&&!o){if(s=i||h?{}:Fu(t),!c)return i?Pu(t,ju(s,t)):Mu(t,xu(s,t))}else{if(!T[_])return o?t:{};s=Ru(t,_,c)}}a||(a=new Tu);var p=a.get(t);if(p)return p;a.set(t,s),Hu(t)?t.forEach(function(b){s.add(lt(b,e,r,b,t,a))}):Ku(t)&&t.forEach(function(b,g){s.set(g,lt(b,e,r,g,t,a))});var m=l?i?Lu:Nu:i?zu:Gu,w=d?void 0:m(t);return Eu(w||t,function(b,g){w&&(g=b,b=t[g]),Iu(s,g,lt(b,e,r,g,t,a))}),s}var wf=lt,_f=wf,$f=1,Cf=4;function Af(t){return _f(t,$f|Cf)}var Tf=Af;const Ef=Ur(Tf);var nt={},If=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},br={},B={};let se;const xf=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];B.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};B.getSymbolTotalCodewords=function(e){return xf[e]};B.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};B.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');se=e};B.isKanjiModeEnabled=function(){return typeof se<"u"};B.toSJIS=function(e){return se(e)};var At={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,o){if(t.isValid(n))return n;try{return e(n)}catch{return o}}})(At);function mr(){this.buffer=[],this.length=0}mr.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var jf=mr;function at(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}at.prototype.set=function(t,e,r,n){const o=t*this.size+e;this.data[o]=r,n&&(this.reservedBit[o]=!0)};at.prototype.get=function(t,e){return this.data[t*this.size+e]};at.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};at.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Sf=at,wr={};(function(t){const e=B.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const o=Math.floor(n/7)+2,a=e(n),s=a===145?26:Math.ceil((a-13)/(2*o-2))*2,c=[a-7];for(let i=1;i<o-1;i++)c[i]=c[i-1]-s;return c.push(6),c.reverse()},t.getPositions=function(n){const o=[],a=t.getRowColCoords(n),s=a.length;for(let c=0;c<s;c++)for(let i=0;i<s;i++)c===0&&i===0||c===0&&i===s-1||c===s-1&&i===0||o.push([a[c],a[i]]);return o}})(wr);var _r={};const Bf=B.getSymbolSize,Ue=7;_r.getPositions=function(e){const r=Bf(e);return[[0,0],[r-Ue,0],[0,r-Ue]]};var $r={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},t.from=function(o){return t.isValid(o)?parseInt(o,10):void 0},t.getPenaltyN1=function(o){const a=o.size;let s=0,c=0,i=0,l=null,d=null;for(let _=0;_<a;_++){c=i=0,l=d=null;for(let h=0;h<a;h++){let p=o.get(_,h);p===l?c++:(c>=5&&(s+=e.N1+(c-5)),l=p,c=1),p=o.get(h,_),p===d?i++:(i>=5&&(s+=e.N1+(i-5)),d=p,i=1)}c>=5&&(s+=e.N1+(c-5)),i>=5&&(s+=e.N1+(i-5))}return s},t.getPenaltyN2=function(o){const a=o.size;let s=0;for(let c=0;c<a-1;c++)for(let i=0;i<a-1;i++){const l=o.get(c,i)+o.get(c,i+1)+o.get(c+1,i)+o.get(c+1,i+1);(l===4||l===0)&&s++}return s*e.N2},t.getPenaltyN3=function(o){const a=o.size;let s=0,c=0,i=0;for(let l=0;l<a;l++){c=i=0;for(let d=0;d<a;d++)c=c<<1&2047|o.get(l,d),d>=10&&(c===1488||c===93)&&s++,i=i<<1&2047|o.get(d,l),d>=10&&(i===1488||i===93)&&s++}return s*e.N3},t.getPenaltyN4=function(o){let a=0;const s=o.data.length;for(let i=0;i<s;i++)a+=o.data[i];return Math.abs(Math.ceil(a*100/s/5)-10)*e.N4};function r(n,o,a){switch(n){case t.Patterns.PATTERN000:return(o+a)%2===0;case t.Patterns.PATTERN001:return o%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(o+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return o*a%2+o*a%3===0;case t.Patterns.PATTERN110:return(o*a%2+o*a%3)%2===0;case t.Patterns.PATTERN111:return(o*a%3+(o+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(o,a){const s=a.size;for(let c=0;c<s;c++)for(let i=0;i<s;i++)a.isReserved(i,c)||a.xor(i,c,r(o,i,c))},t.getBestMask=function(o,a){const s=Object.keys(t.Patterns).length;let c=0,i=1/0;for(let l=0;l<s;l++){a(l),t.applyMask(l,o);const d=t.getPenaltyN1(o)+t.getPenaltyN2(o)+t.getPenaltyN3(o)+t.getPenaltyN4(o);t.applyMask(l,o),d<i&&(i=d,c=l)}return c}})($r);var Tt={};const L=At,st=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],it=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Tt.getBlocksCount=function(e,r){switch(r){case L.L:return st[(e-1)*4+0];case L.M:return st[(e-1)*4+1];case L.Q:return st[(e-1)*4+2];case L.H:return st[(e-1)*4+3];default:return}};Tt.getTotalCodewordsCount=function(e,r){switch(r){case L.L:return it[(e-1)*4+0];case L.M:return it[(e-1)*4+1];case L.Q:return it[(e-1)*4+2];case L.H:return it[(e-1)*4+3];default:return}};var Cr={},Et={};const X=new Uint8Array(512),yt=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)X[r]=e,yt[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)X[r]=X[r-255]})();Et.log=function(e){if(e<1)throw new Error("log("+e+")");return yt[e]};Et.exp=function(e){return X[e]};Et.mul=function(e,r){return e===0||r===0?0:X[yt[e]+yt[r]]};(function(t){const e=Et;t.mul=function(n,o){const a=new Uint8Array(n.length+o.length-1);for(let s=0;s<n.length;s++)for(let c=0;c<o.length;c++)a[s+c]^=e.mul(n[s],o[c]);return a},t.mod=function(n,o){let a=new Uint8Array(n);for(;a.length-o.length>=0;){const s=a[0];for(let i=0;i<o.length;i++)a[i]^=e.mul(o[i],s);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},t.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let a=0;a<n;a++)o=t.mul(o,new Uint8Array([1,e.exp(a)]));return o}})(Cr);const Ar=Cr;function ie(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ie.prototype.initialize=function(e){this.degree=e,this.genPoly=Ar.generateECPolynomial(this.degree)};ie.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=Ar.mod(r,this.genPoly),o=this.degree-n.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(n,o),a}return n};var Mf=ie,Tr={},D={},ce={};ce.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var M={};const Er="[0-9]+",Pf="[A-Z $%*+\\-./:]+";let tt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";tt=tt.replace(/u/g,"\\u");const Nf="(?:(?![A-Z0-9 $%*+\\-./:]|"+tt+`)(?:.|[\r
]))+`;M.KANJI=new RegExp(tt,"g");M.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");M.BYTE=new RegExp(Nf,"g");M.NUMERIC=new RegExp(Er,"g");M.ALPHANUMERIC=new RegExp(Pf,"g");const Lf=new RegExp("^"+tt+"$"),Df=new RegExp("^"+Er+"$"),Of=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");M.testKanji=function(e){return Lf.test(e)};M.testNumeric=function(e){return Df.test(e)};M.testAlphanumeric=function(e){return Of.test(e)};(function(t){const e=ce,r=M;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return r.testNumeric(a)?t.NUMERIC:r.testAlphanumeric(a)?t.ALPHANUMERIC:r.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function n(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+o)}}t.from=function(a,s){if(t.isValid(a))return a;try{return n(a)}catch{return s}}})(D);(function(t){const e=B,r=Tt,n=At,o=D,a=ce,s=7973,c=e.getBCHDigit(s);function i(h,p,m){for(let w=1;w<=40;w++)if(p<=t.getCapacity(w,m,h))return w}function l(h,p){return o.getCharCountIndicator(h,p)+4}function d(h,p){let m=0;return h.forEach(function(w){const b=l(w.mode,p);m+=b+w.getBitsLength()}),m}function _(h,p){for(let m=1;m<=40;m++)if(d(h,m)<=t.getCapacity(m,p,o.MIXED))return m}t.from=function(p,m){return a.isValid(p)?parseInt(p,10):m},t.getCapacity=function(p,m,w){if(!a.isValid(p))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=o.BYTE);const b=e.getSymbolTotalCodewords(p),g=r.getTotalCodewordsCount(p,m),f=(b-g)*8;if(w===o.MIXED)return f;const y=f-l(w,p);switch(w){case o.NUMERIC:return Math.floor(y/10*3);case o.ALPHANUMERIC:return Math.floor(y/11*2);case o.KANJI:return Math.floor(y/13);case o.BYTE:default:return Math.floor(y/8)}},t.getBestVersionForData=function(p,m){let w;const b=n.from(m,n.M);if(Array.isArray(p)){if(p.length>1)return _(p,b);if(p.length===0)return 1;w=p[0]}else w=p;return i(w.mode,w.getLength(),b)},t.getEncodedBits=function(p){if(!a.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-c>=0;)m^=s<<e.getBCHDigit(m)-c;return p<<12|m}})(Tr);var Ir={};const Kt=B,xr=1335,Rf=21522,ke=Kt.getBCHDigit(xr);Ir.getEncodedBits=function(e,r){const n=e.bit<<3|r;let o=n<<10;for(;Kt.getBCHDigit(o)-ke>=0;)o^=xr<<Kt.getBCHDigit(o)-ke;return(n<<10|o)^Rf};var jr={};const Ff=D;function U(t){this.mode=Ff.NUMERIC,this.data=t.toString()}U.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};U.prototype.getLength=function(){return this.data.length};U.prototype.getBitsLength=function(){return U.getBitsLength(this.data.length)};U.prototype.write=function(e){let r,n,o;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),o=parseInt(n,10),e.put(o,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),o=parseInt(n,10),e.put(o,a*3+1))};var Uf=U;const kf=D,St=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function k(t){this.mode=kf.ALPHANUMERIC,this.data=t}k.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};k.prototype.getLength=function(){return this.data.length};k.prototype.getBitsLength=function(){return k.getBitsLength(this.data.length)};k.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=St.indexOf(this.data[r])*45;n+=St.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(St.indexOf(this.data[r]),6)};var Kf=k,Vf=function(e){for(var r=[],n=e.length,o=0;o<n;o++){var a=e.charCodeAt(o);if(a>=55296&&a<=56319&&n>o+1){var s=e.charCodeAt(o+1);s>=56320&&s<=57343&&(a=(a-55296)*1024+s-56320+65536,o+=1)}if(a<128){r.push(a);continue}if(a<2048){r.push(a>>6|192),r.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){r.push(a>>12|224),r.push(a>>6&63|128),r.push(a&63|128);continue}if(a>=65536&&a<=1114111){r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const Hf=Vf,Gf=D;function K(t){this.mode=Gf.BYTE,typeof t=="string"&&(t=Hf(t)),this.data=new Uint8Array(t)}K.getBitsLength=function(e){return e*8};K.prototype.getLength=function(){return this.data.length};K.prototype.getBitsLength=function(){return K.getBitsLength(this.data.length)};K.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var zf=K;const Wf=D,Jf=B;function V(t){this.mode=Wf.KANJI,this.data=t}V.getBitsLength=function(e){return e*13};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Jf.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Yf=V,Sr={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,o){var a={},s={};s[n]=0;var c=e.PriorityQueue.make();c.push(n,0);for(var i,l,d,_,h,p,m,w,b;!c.empty();){i=c.pop(),l=i.value,_=i.cost,h=r[l]||{};for(d in h)h.hasOwnProperty(d)&&(p=h[d],m=_+p,w=s[d],b=typeof s[d]>"u",(b||w>m)&&(s[d]=m,c.push(d,m),a[d]=l))}if(typeof o<"u"&&typeof s[o]>"u"){var g=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(g)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var o=[],a=n;a;)o.push(a),r[a],a=r[a];return o.reverse(),o},find_path:function(r,n,o){var a=e.single_source_shortest_paths(r,n,o);return e.extract_shortest_path_from_predecessor_list(a,o)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,o={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);return o.queue=[],o.sorter=r.sorter||n.default_sorter,o},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var o={value:r,cost:n};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Sr);var qf=Sr.exports;(function(t){const e=D,r=Uf,n=Kf,o=zf,a=Yf,s=M,c=B,i=qf;function l(g){return unescape(encodeURIComponent(g)).length}function d(g,f,y){const v=[];let C;for(;(C=g.exec(y))!==null;)v.push({data:C[0],index:C.index,mode:f,length:C[0].length});return v}function _(g){const f=d(s.NUMERIC,e.NUMERIC,g),y=d(s.ALPHANUMERIC,e.ALPHANUMERIC,g);let v,C;return c.isKanjiModeEnabled()?(v=d(s.BYTE,e.BYTE,g),C=d(s.KANJI,e.KANJI,g)):(v=d(s.BYTE_KANJI,e.BYTE,g),C=[]),f.concat(y,v,C).sort(function($,I){return $.index-I.index}).map(function($){return{data:$.data,mode:$.mode,length:$.length}})}function h(g,f){switch(f){case e.NUMERIC:return r.getBitsLength(g);case e.ALPHANUMERIC:return n.getBitsLength(g);case e.KANJI:return a.getBitsLength(g);case e.BYTE:return o.getBitsLength(g)}}function p(g){return g.reduce(function(f,y){const v=f.length-1>=0?f[f.length-1]:null;return v&&v.mode===y.mode?(f[f.length-1].data+=y.data,f):(f.push(y),f)},[])}function m(g){const f=[];for(let y=0;y<g.length;y++){const v=g[y];switch(v.mode){case e.NUMERIC:f.push([v,{data:v.data,mode:e.ALPHANUMERIC,length:v.length},{data:v.data,mode:e.BYTE,length:v.length}]);break;case e.ALPHANUMERIC:f.push([v,{data:v.data,mode:e.BYTE,length:v.length}]);break;case e.KANJI:f.push([v,{data:v.data,mode:e.BYTE,length:l(v.data)}]);break;case e.BYTE:f.push([{data:v.data,mode:e.BYTE,length:l(v.data)}])}}return f}function w(g,f){const y={},v={start:{}};let C=["start"];for(let A=0;A<g.length;A++){const $=g[A],I=[];for(let x=0;x<$.length;x++){const j=$[x],O=""+A+x;I.push(O),y[O]={node:j,lastCount:0},v[O]={};for(let Y=0;Y<C.length;Y++){const P=C[Y];y[P]&&y[P].node.mode===j.mode?(v[P][O]=h(y[P].lastCount+j.length,j.mode)-h(y[P].lastCount,j.mode),y[P].lastCount+=j.length):(y[P]&&(y[P].lastCount=j.length),v[P][O]=h(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,f))}}C=I}for(let A=0;A<C.length;A++)v[C[A]].end=0;return{map:v,table:y}}function b(g,f){let y;const v=e.getBestModeForData(g);if(y=e.from(f,v),y!==e.BYTE&&y.bit<v.bit)throw new Error('"'+g+'" cannot be encoded with mode '+e.toString(y)+`.
 Suggested mode is: `+e.toString(v));switch(y===e.KANJI&&!c.isKanjiModeEnabled()&&(y=e.BYTE),y){case e.NUMERIC:return new r(g);case e.ALPHANUMERIC:return new n(g);case e.KANJI:return new a(g);case e.BYTE:return new o(g)}}t.fromArray=function(f){return f.reduce(function(y,v){return typeof v=="string"?y.push(b(v,null)):v.data&&y.push(b(v.data,v.mode)),y},[])},t.fromString=function(f,y){const v=_(f,c.isKanjiModeEnabled()),C=m(v),A=w(C,y),$=i.find_path(A.map,"start","end"),I=[];for(let x=1;x<$.length-1;x++)I.push(A.table[$[x]].node);return t.fromArray(p(I))},t.rawSplit=function(f){return t.fromArray(_(f,c.isKanjiModeEnabled()))}})(jr);const It=B,Bt=At,Qf=jf,Xf=Sf,Zf=wr,td=_r,Vt=$r,Ht=Tt,ed=Mf,vt=Tr,rd=Ir,nd=D,Mt=jr;function ad(t,e){const r=t.size,n=td.getPositions(e);for(let o=0;o<n.length;o++){const a=n[o][0],s=n[o][1];for(let c=-1;c<=7;c++)if(!(a+c<=-1||r<=a+c))for(let i=-1;i<=7;i++)s+i<=-1||r<=s+i||(c>=0&&c<=6&&(i===0||i===6)||i>=0&&i<=6&&(c===0||c===6)||c>=2&&c<=4&&i>=2&&i<=4?t.set(a+c,s+i,!0,!0):t.set(a+c,s+i,!1,!0))}}function od(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function sd(t,e){const r=Zf.getPositions(e);for(let n=0;n<r.length;n++){const o=r[n][0],a=r[n][1];for(let s=-2;s<=2;s++)for(let c=-2;c<=2;c++)s===-2||s===2||c===-2||c===2||s===0&&c===0?t.set(o+s,a+c,!0,!0):t.set(o+s,a+c,!1,!0)}}function id(t,e){const r=t.size,n=vt.getEncodedBits(e);let o,a,s;for(let c=0;c<18;c++)o=Math.floor(c/3),a=c%3+r-8-3,s=(n>>c&1)===1,t.set(o,a,s,!0),t.set(a,o,s,!0)}function Pt(t,e,r){const n=t.size,o=rd.getEncodedBits(e,r);let a,s;for(a=0;a<15;a++)s=(o>>a&1)===1,a<6?t.set(a,8,s,!0):a<8?t.set(a+1,8,s,!0):t.set(n-15+a,8,s,!0),a<8?t.set(8,n-a-1,s,!0):a<9?t.set(8,15-a-1+1,s,!0):t.set(8,15-a-1,s,!0);t.set(n-8,8,1,!0)}function cd(t,e){const r=t.size;let n=-1,o=r-1,a=7,s=0;for(let c=r-1;c>0;c-=2)for(c===6&&c--;;){for(let i=0;i<2;i++)if(!t.isReserved(o,c-i)){let l=!1;s<e.length&&(l=(e[s]>>>a&1)===1),t.set(o,c-i,l),a--,a===-1&&(s++,a=7)}if(o+=n,o<0||r<=o){o-=n,n=-n;break}}}function ld(t,e,r){const n=new Qf;r.forEach(function(i){n.put(i.mode.bit,4),n.put(i.getLength(),nd.getCharCountIndicator(i.mode,t)),i.write(n)});const o=It.getSymbolTotalCodewords(t),a=Ht.getTotalCodewordsCount(t,e),s=(o-a)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const c=(s-n.getLengthInBits())/8;for(let i=0;i<c;i++)n.put(i%2?17:236,8);return ud(n,t,e)}function ud(t,e,r){const n=It.getSymbolTotalCodewords(e),o=Ht.getTotalCodewordsCount(e,r),a=n-o,s=Ht.getBlocksCount(e,r),c=n%s,i=s-c,l=Math.floor(n/s),d=Math.floor(a/s),_=d+1,h=l-d,p=new ed(h);let m=0;const w=new Array(s),b=new Array(s);let g=0;const f=new Uint8Array(t.buffer);for(let $=0;$<s;$++){const I=$<i?d:_;w[$]=f.slice(m,m+I),b[$]=p.encode(w[$]),m+=I,g=Math.max(g,I)}const y=new Uint8Array(n);let v=0,C,A;for(C=0;C<g;C++)for(A=0;A<s;A++)C<w[A].length&&(y[v++]=w[A][C]);for(C=0;C<h;C++)for(A=0;A<s;A++)y[v++]=b[A][C];return y}function fd(t,e,r,n){let o;if(Array.isArray(t))o=Mt.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const d=Mt.rawSplit(t);l=vt.getBestVersionForData(d,r)}o=Mt.fromString(t,l||40)}else throw new Error("Invalid data");const a=vt.getBestVersionForData(o,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const s=ld(e,r,o),c=It.getSymbolSize(e),i=new Xf(c);return ad(i,e),od(i),sd(i,e),Pt(i,r,0),e>=7&&id(i,e),cd(i,s),isNaN(n)&&(n=Vt.getBestMask(i,Pt.bind(null,i,r))),Vt.applyMask(n,i),Pt(i,r,n),{modules:i,version:e,errorCorrectionLevel:r,maskPattern:n,segments:o}}br.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Bt.M,o,a;return typeof r<"u"&&(n=Bt.from(r.errorCorrectionLevel,Bt.M),o=vt.from(r.version),a=Vt.from(r.maskPattern),r.toSJISFunc&&It.setToSJISFunction(r.toSJISFunc)),fd(e,o,n,a)};var Br={},le={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const o=parseInt(n.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:a,scale:a?4:s,margin:o,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},t.getImageWidth=function(n,o){const a=t.getScale(n,o);return Math.floor((n+o.margin*2)*a)},t.qrToImageData=function(n,o,a){const s=o.modules.size,c=o.modules.data,i=t.getScale(s,a),l=Math.floor((s+a.margin*2)*i),d=a.margin*i,_=[a.color.light,a.color.dark];for(let h=0;h<l;h++)for(let p=0;p<l;p++){let m=(h*l+p)*4,w=a.color.light;if(h>=d&&p>=d&&h<l-d&&p<l-d){const b=Math.floor((h-d)/i),g=Math.floor((p-d)/i);w=_[c[b*s+g]?1:0]}n[m++]=w.r,n[m++]=w.g,n[m++]=w.b,n[m]=w.a}}})(le);(function(t){const e=le;function r(o,a,s){o.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,s,c){let i=c,l=s;typeof i>"u"&&(!s||!s.getContext)&&(i=s,s=void 0),s||(l=n()),i=e.getOptions(i);const d=e.getImageWidth(a.modules.size,i),_=l.getContext("2d"),h=_.createImageData(d,d);return e.qrToImageData(h.data,a,i),r(_,l,d),_.putImageData(h,0,0),l},t.renderToDataURL=function(a,s,c){let i=c;typeof i>"u"&&(!s||!s.getContext)&&(i=s,s=void 0),i||(i={});const l=t.render(a,s,i),d=i.type||"image/png",_=i.rendererOpts||{};return l.toDataURL(d,_.quality)}})(Br);var Mr={};const dd=le;function Ke(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Nt(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function gd(t,e,r){let n="",o=0,a=!1,s=0;for(let c=0;c<t.length;c++){const i=Math.floor(c%e),l=Math.floor(c/e);!i&&!a&&(a=!0),t[c]?(s++,c>0&&i>0&&t[c-1]||(n+=a?Nt("M",i+r,.5+l+r):Nt("m",o,0),o=0,a=!1),i+1<e&&t[c+1]||(n+=Nt("h",s),s=0)):o++}return n}Mr.render=function(e,r,n){const o=dd.getOptions(r),a=e.modules.size,s=e.modules.data,c=a+o.margin*2,i=o.color.light.a?"<path "+Ke(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+Ke(o.color.dark,"stroke")+' d="'+gd(s,a,o.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+d+' shape-rendering="crispEdges">'+i+l+`</svg>
`;return typeof n=="function"&&n(null,h),h};const hd=If,Gt=br,Pr=Br,pd=Mr;function ue(t,e,r,n,o){const a=[].slice.call(arguments,1),s=a.length,c=typeof a[s-1]=="function";if(!c&&!hd())throw new Error("Callback required as last argument");if(c){if(s<2)throw new Error("Too few arguments provided");s===2?(o=r,r=e,e=n=void 0):s===3&&(e.getContext&&typeof o>"u"?(o=n,n=void 0):(o=n,n=r,r=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=e,e=n=void 0):s===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(i,l){try{const d=Gt.create(r,n);i(t(d,e,n))}catch(d){l(d)}})}try{const i=Gt.create(r,n);o(null,t(i,e,n))}catch(i){o(i)}}nt.create=Gt.create;nt.toCanvas=ue.bind(null,Pr.render);nt.toDataURL=ue.bind(null,Pr.renderToDataURL);nt.toString=ue.bind(null,function(t,e,r){return pd.render(t,r)});const Nr=ze.section`
  width: 400px;
  height: 500px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  & > span.account_address {
    display: inline-block;
    width: 300px;
    white-space: pre-wrap;
    word-break: break-all;
    text-align: center;
  }
`,yd=ze.div`
  width: 10px;
  height: 24px;
  border-radius: 10px;
  text-align: center;
  line-height: 24px;
  writing-mode: vertical-lr;
  cursor: pointer;
`;let ct;const vd=We.forwardRef(function(e,r){return u.jsx(Ye,{elevation:6,ref:r,variant:"filled",...e})}),bd={anchorEl:null,open:!1,currentAccount:null,showDialog:!1,SnackbarOpen:!1,accountMessage:"",status:""},md=(t,e)=>({...t,...e}),wd=t=>{const{Accounts:e,outerDispatch:r,walletInstance:n}=t,[o,a]=S.useReducer(md,bd),{anchorEl:s,open:c,currentAccount:i,showDialog:l,SnackbarOpen:d,accountMessage:_,status:h}=o,p=Wt(),m=Jt(f=>f.account.password),w=()=>{a({open:!1})},b=()=>{a({showDialog:!0}),ct=setTimeout(()=>{const f=document.querySelector("#qrCode");f&&nt.toCanvas(f,i.address,function(y){y&&console.error(y),console.log("%c 666666 生成账户二维码success!","color: #0f0;")})},100)},g=async()=>{try{const f=await n.remove(i.address),y=await n.save(m,"myWallet");f&&y?(a({anchorEl:null,open:!1,currentAccount:void 0,SnackbarOpen:!0,accountMessage:"账户隐藏成功!",status:"success"}),p(kr())):a({SnackbarOpen:!0,accountMessage:"账户隐藏失败!",status:"error"})}catch(f){console.log("%c 50000 e is:","color: #f00;",f)}};return S.useEffect(()=>()=>{ct&&(clearTimeout(ct),ct=void 0)},[]),u.jsxs(Qe,{sx:{pt:0,height:"400px"},children:[e.map((f,y)=>{const v=f.address,[C,A]=[v.slice(0,7),v.slice(-7)];return u.jsxs(dt,{button:!0,onClick:()=>{p(Je(f==null?void 0:f.address)),console.log("%c 9999999 account is:","color: #0f0;",f),r({showDialog:!1})},children:[u.jsx(ut,{children:u.jsx(ft,{sx:{bgcolor:de[100],color:de[600]},children:u.jsx(Zr,{})})}),u.jsxs(tn,{children:[u.jsxs("div",{className:"account",children:[u.jsx("span",{children:(f==null?void 0:f.title)??`Account${y+1}`}),u.jsxs("section",{className:"currency_action",children:[u.jsx("span",{children:f.currency}),u.jsx(yd,{onClick:$=>{var I,x;a({anchorEl:$.target,open:!0,currentAccount:f}),(I=$==null?void 0:$.preventDefault)==null||I.call($),(x=$==null?void 0:$.stopPropagation)==null||x.call($)},children:"..."})]})]}),u.jsxs("div",{className:"address",children:[u.jsxs("section",{className:"text_wrapper",children:[u.jsx("span",{className:"front_span",children:C}),u.jsx("span",{className:"ellipses_span",children:"..."}),u.jsx("span",{className:"end_span",children:A})]}),u.jsxs("section",{className:"account_balance",children:[u.jsx("span",{className:"account_count",children:f.balance}),u.jsx("span",{className:"balance_unit",children:"Sepolia ETH"})]})]})]})]},f.address)}),u.jsxs(dt,{autoFocus:!0,button:!0,onClick:()=>{r({showAccountList:!1})},children:[u.jsx(ut,{children:u.jsx(ft,{children:u.jsx(Lt,{})})}),u.jsx(Dt,{primary:"Add account"})]}),u.jsx(Yr,{id:"basic-menu",anchorEl:s,open:c,onClose:w,MenuListProps:{"aria-labelledby":"basic-button"},children:[{title:"账户详情",key:"detail"},{title:"隐藏账户",key:"hide"}].map(({title:f,key:y})=>u.jsx(hn,{onClick:()=>{y==="detail"?b():y==="hide"&&g()},children:f},y))}),u.jsx(Yt,{onClose:()=>{a({showDialog:!1})},open:l,sx:{minWidth:{xs:300,md:300}},children:u.jsxs(Nr,{children:[u.jsx("h2",{children:"账户详情"}),u.jsx("canvas",{id:"qrCode"}),u.jsx("span",{className:"account_address",children:i==null?void 0:i.address})]})}),u.jsx(qe,{open:d,autoHideDuration:2e3,onClose:()=>{a({SnackbarOpen:!1,accountMessage:"",status:""})},children:u.jsx(vd,{severity:h,sx:{width:"100%"},children:_})})]})},_d=S.memo(wd),$d=Ge(qr)(({theme:t})=>({width:"300px",height:"50px",marginTop:"10px",borderRadius:"25px",color:t.palette.getContrastText(xt[500]),backgroundColor:xt[500],"&:hover":{backgroundColor:xt[700]}})),Cd={open:!1,accountMessage:"",status:"",showDialog:!1,fieldError:!1,helperText:""},Ad=(t,e)=>({...t,...e}),Td=We.forwardRef(function(e,r){return u.jsx(Ye,{elevation:6,ref:r,variant:"filled",...e})}),Ed=t=>{const{walletInstance:e,outerDispatch:r,accounts:n}=t,o=S.useRef(null),[a,s]=S.useReducer(Ad,Cd),{open:c,accountMessage:i,status:l,showDialog:d,fieldError:_,helperText:h}=a,p=Jt(b=>b.account.password),m=Wt(),w=async b=>{if(s({fieldError:!b,helperText:b?"":"请填入私钥！"}),b)try{return await n.parseAndValidatePrivateKey(`0x${b}`),!0}catch{return s({fieldError:!0,helperText:"请填入正确的私钥！"}),!1}};return u.jsxs(u.Fragment,{children:[u.jsxs(Qe,{sx:{pt:0},children:[u.jsxs(dt,{autoFocus:!0,button:!0,onClick:async()=>{try{await e.create(1),await e.save(p,"myWallet"),s({open:!0,accountMessage:"account创建成功!",status:"success"}),r({showAccountList:!0}),m(ge())}catch{s({open:!0,accountMessage:"account创建失败!",status:"error"})}},children:[u.jsx(ut,{children:u.jsx(ft,{children:u.jsx(Lt,{})})}),u.jsx(Dt,{primary:"add a new account"})]}),u.jsxs(dt,{autoFocus:!0,button:!0,onClick:()=>{s({showDialog:!0})},children:[u.jsx(ut,{children:u.jsx(ft,{children:u.jsx(Lt,{})})}),u.jsx(Dt,{primary:"导入账户"})]})]}),u.jsx(Yt,{onClose:()=>{s({showDialog:!1})},open:d,sx:{minWidth:{xs:300,md:300}},children:u.jsxs(Nr,{children:[u.jsx("h2",{children:"导入账户"}),u.jsx(Qr,{inputRef:o,id:"login_field",label:"私钥",variant:"filled",type:"password",error:_,helperText:h,onChange:Xr(async b=>{var f;const g=(f=b==null?void 0:b.target)==null?void 0:f.value;w(g)},200),sx:{width:"300px",background:"#fffb8f",borderRadius:"5px"}}),u.jsx($d,{variant:"contained",onClick:async()=>{var b;try{const g=(b=o==null?void 0:o.current)==null?void 0:b.value;await w(g),await e.add(`0x${g}`),s({showDialog:!1,open:!0,accountMessage:"加载钱包成功!",status:"success"}),r({showAccountList:!0}),m(ge())}catch(g){console.log("%c 钱包加载失败 e is:","color: #f00;",g),s({open:!0,accountMessage:"加载钱包失败!",status:"error"})}},children:"确定"})]})}),u.jsx(qe,{open:c,autoHideDuration:2e3,onClose:()=>{s({open:!1,accountMessage:"",status:""})},children:u.jsx(Td,{severity:l,sx:{width:"100%"},children:i})})]})},Id=S.memo(Ed),Ve={AccountList:_d,AddNewAccount:Id},He=new Set([null,void 0,""]),xd={showDialog:!1,accountList:[],showAccountList:!0},jd=(t,e)=>({...t,...e});let Q;const Sd=t=>{var b,g;const{web3Instance:e,walletInstance:r,accounts:n}=t,[o,a]=S.useReducer(jd,xd),{showDialog:s,accountList:c,showAccountList:i}=o,l=Wt(),d=Jt(f=>f.account),_=Kr(),{currentAccount:h,password:p,accountLength:m}=d,w=async()=>{var f;if(p){const y=await r.load(p,"myWallet"),v=(f=y==null?void 0:y[0])==null?void 0:f.address;l(Je(v));const C=y.length,A=new Set,$=[];for(let I=0;I<C;I+=1){let x=Ef(y[I]);const j=x.address;if(A.has(j))continue;A.add(j);const O=await e.eth.getBalance(j),Y=Vr.utils.fromWei(O,"ether");x.balance=`${(+Y).toFixed(4)}`,$.push(x)}a({accountList:$}),l(Hr(C))}};return S.useEffect(()=>{const f=localStorage.myWallet;He.has(f)?_("/welcom"):He.has(p)&&_("/login")},[p]),S.useEffect(()=>{w(),Q&&(clearTimeout(Q),Q=void 0)},[p,m]),u.jsxs(cn,{variant:"h6",component:"div",sx:{flexGrow:1},children:[u.jsx(en,{}),u.jsxs(rn,{children:[u.jsxs("div",{className:"top_wrapper",onClick:()=>{a({showDialog:!0})},children:[u.jsx("img",{src:"/crypto.svg",alt:"account",className:"crypto_account"}),u.jsx("span",{children:"Account1"}),u.jsx("div",{className:"expand_more"})]}),u.jsx("div",{className:"bottom_wrapper",children:u.jsxs("section",{className:"text_wrapper",children:[u.jsx("span",{className:"front_span",children:(b=h==null?void 0:h.slice)==null?void 0:b.call(h,0,7)}),u.jsx("span",{className:"ellipses_span",children:"..."}),u.jsx("span",{className:"end_span",children:(g=h==null?void 0:h.slice)==null?void 0:g.call(h,-7)})]})})]}),u.jsxs(Yt,{onClose:()=>{a({showDialog:!1}),Q=setTimeout(()=>{a({showAccountList:!0})},200)},open:s,sx:{minWidth:{xs:300,md:300}},children:[u.jsx(Gr,{children:u.jsxs(nn,{children:[i?"选择一个账户":"添加账户",u.jsx(zr,{onClick:()=>{a({showDialog:!1}),Q=setTimeout(()=>{a({showAccountList:!0})},200)}})]})}),i?u.jsx(Ve.AccountList,{Accounts:c,outerDispatch:a,walletInstance:r}):u.jsx(Ve.AddNewAccount,{walletInstance:r,outerDispatch:a,accounts:n})]})]})},Hd=S.memo(Sd);export{Hd as default};
